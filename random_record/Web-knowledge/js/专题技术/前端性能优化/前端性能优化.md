## 提高网站访问速度

http://www.cnblogs.com/smjack/archive/2009/02/24/1396895.html

https://www.cnblogs.com/wizcabbit/p/web-image-optimization.html （图片）

## 前端页面优化：通过 google 的 pagespeed 进行网站性能分析，从以下几方面考虑：

1）js 代码压缩
2）css 代码压缩
3）尽量 css 代码不添加计算
4）为静态资源设置一个过期日期或 HTTP 头的最大年龄，指示浏览器从本地磁盘加载以前下载的资源，而不是通过网络加载。
5）使用图片精灵，减少请求次数
6）适当地格式化和压缩图像可以节省许多字节的数据。
7）压缩 HTML 代码，包括其中包含的任何内联 JavaScript 和 CSS，可以节省很多字节的数据，并加快下载和解析时间。
8）避免着陆页重定向。
9）消除阻塞的 JavaScript 和 CSS。

http 请求方面，减少请求数量，请求体积，对应的做法是，对项目资源进行压缩，控制项目资源的 dns 解析在 2 到 4 个域名，提取公告的样式，公共的组件，雪碧图，缓存资源，

压缩资源，提取公共资源压缩，提取 css ，js 公共方法

不要缩放图片，使用雪碧图，使用字体图表（阿里矢量图库）

使用 CDN，抛开无用的 cookie

减少重绘重排，CSS 属性读写分离，最好不要用 js 修改样式，dom 离线更新，渲染前指定图片的大小

js 代码层面的优化，减少对字符串的计算，合理使用闭包，首屏的 js 资源加载放在最底部

第一次有意义渲染(FMP，当主要内容出现在页面上)，
英雄渲染时间(当页面的重要内容完成渲染)，
交互的时间(TTI，布局已经稳定的点，关键的 web 字体是可见的，并且主线程足够处理用户输入—基本上是用户可以点击 UI 并与之交互的时间标记)，
输入响应性(一个接口响应用户动作所需的时间)，
感知速度指数(测量页面内容的视觉填充速度;分数越低越好，
您的定制度量，根据您的业务需求和客户体验定义。
teve Souders 对每个指标都有详细的解释。在许多情况下，TTI 和输入响应将是最关键的，这取决于您的应用程序的上下文，这些指标可能会有所不同:例如，对于 Netflix TV UI，关键的输入响应能力、内存使用和 TTI 更重要。

http://www.webpagetest.org/

https://calendar.perfplanet.com/2017/automating-web-performance-regression-alerts/

优化方式：

- 测量真实的世界经验并设定适当的目标。一个好的目标是第一次有意义的油漆< 1 s，速度指数< 1250，在慢 3G 上的交互< 5s，重复访问，TTI < 2s。优化开始呈现时间和时间-交互。
- 为您的主模板准备关键的 CSS，并将其包含在页面的<head>中。(你的预算是 14kb)。对于 CSS/JS，在关键的文件大小预算中运行 max。170 kb gzip(0.8 1 mb 解压)。
- 延迟和延迟加载尽可能多的脚本，包括您自己的和第三方的脚本——特别是社交媒体按钮、视频播放器和昂贵的 JavaScript 脚本。
- 以更快的 dns 查找、预连接、预取和预加载，添加资源提示以加快传输速度。
- 子集 web 字体，并以异步方式加载它们(或者只是切换到系统字体)。
- 优化图像，并考虑使用 WebP 进行关键页面(例如登录页面)。
- 检查 HTTP 缓存头和安全头是否设置正确。
- 在服务器上启用 Brotli 或 Zopfli 压缩。(如果这是不可能的，不要忘记启用 Gzip 压缩。)
- 如果 HTTP/2 可用，启用 HPACK 压缩并开始监控混合内容警告。如果您正在运行 LTS，也可以启用 OCSP 的订书机。
- 缓存资产，如字体、样式、JavaScript 和图像——实际上，尽可能多!-在服务人员缓存中。

100ms 响应 60 帧
另外,每一帧的动画应该完成在不到 16 毫秒,从而实现每秒 60 帧(1 秒 ÷60 = 16.6 毫秒)——最好在 10 毫秒。因为浏览器需要时间将新框架绘制到屏幕上，所以代码应该在达到 16.6 毫秒之前完成执行。要乐观，明智地利用空闲时间。显然，这些目标应用于运行时性能，而不是加载性能。

###Chrome 控制台中 Network 的面板

Chrome 控制台中 Network 的 Preview 的正确用法：
直到今天从服务器端向 web 前端发送一段 json 格式的数据，才发现 Preview 的特殊功效。如下是 Response 的数据（即返回结果），不具备可读性。
在 Preview(预览功能)中，控制台会把发送过来的 json 数据自动转换成 javascript 的对象格式。

https://www.cnblogs.com/LibraThinker/p/5981346.html

## CSS

- 合并相同的类；
- 移除不使用的类；
- 颜色使用缩写，使用 0 代替 0px，合并可以合并的样式

## 重定向的应用场景

1. 跟踪内部流量
2. 跟踪出站流量
   看链接将产生 301 响应、302 响应的 web 服务器日志

## 什么样的 AJAX 请求可以被缓存？

POST 的请求，是不可以在客户端缓存的，每次请求都需要发送给服务器进行处理，每次都会返回状态码 200。（可以在服务器端对数据进行缓存，以便提高处理速度）

GET 的请求，是可以（而且默认）在客户端进行缓存的，除非指定了不同的地址，否则同一个地址的 AJAX 请求，不会重复在服务器执行，而是返回 304。

## Ajax 请求使用缓存

在进行 Ajax 请求的时候，可以选择尽量使用 get 方法，这样可以使用客户端的缓存，提高请求速度。
