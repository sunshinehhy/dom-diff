499609575@qq.com/FtChina2018
1070719435@qq.com/123qweasd  不是会员，张燕的号

正式版注册的新账号和密码
testcenter@163.com   123456   不是会员

hhy123@163.com / 123456  (未付费)
//showSlide("/index.php/ft/interactive/<%$sc.id%>?i=2<%$audioParameter%>","<%$headline|replace("`'","11")%>", 0)

<%$headline|replace:'\'':'\\\''%>

付费
http://premium.ftacademy.cn/subscription.html
http://www.ftacademy.cn/subscription.html
http://www.ftacademy.cn/frontend/styles/main.css
https://backyard.ftchinese.com/pagemaker/page-maker.html?page=editorchoice
http://static.ftchinese.com/js/log.js?v=7&20160318 (track)

http://www7.ftchinese.com/m/corp/preview.html?pageid=subcription-annual-forum-2018 年会高端会员升级活动的页面URL

会员中心：http://www.ftchinese.com/users/setting/vip

ft订阅页面: https://subs.ft.com/spa3_bc1/

正式版：
http://api001.ftimg.net/androidapp.html
http://m.ftchinese.com/androidapp.html
http://m.ftchinese.com/index.php/ft/interactive/11545?exclusive#adchannelID=1100

英语电台：
https://api003.ftmailbox.com/channel/radio.html?webview=ftcapp&bodyonly=yes
http://www.ftchinese.com/channel/radio.html?webview=ftcapp
http://api001.ftimg.net/androidapp.html#/channel//index.php/ft/channel/phonetemplate.html?channel=ftradio

dev_wwwo/frontend/tpl/phone/ftacademy.html   
引用了 <%include file="phone/partials/interactive-section.html"%>
<%include file="phone/english.html"%>  
<%include file="phone/partials/interactive-section.html"%>
<%assign var="linkType" value="webview"%>  当linkType为webview，深度阅读
<%elseif $channelId == "hotcourse"%>  ajax

音频：<%include file="phone/audio.html"%>  

链接：
http://www.ftchinese.com/interactive/11545?adchannelID=1100&exclusive=#adchannelID=1100
http://api001.ftmailbox.com/index.php/ft/interactive/11545?i=2&exclusive=#adchannelID=1100
http://m.ftchinese.com/index.php/ft/interactive/11545?i=2&exclusive=#adchannelID=1100

线上环境：
Promise.resolve(process.env.NODE_ENV = 'production')
线下环境
Promise.resolve(process.env.NODE_ENV = 'development')

base.html与.tmp/index.html同步变化,.tmp/index.html是生成的本地测试文件，没有阴影线上的文件
views/index.html中的products，是来自gulpfile.js  
使用这个用法var res = nunjucks.render('foo.html', { username: 'James' });

问题：
需要引用next的文件么？这个不是放在前端么，应该在哪里引用？
差别：
调用函数的时候用async  await，return用then

**2018.03.26**
webapp:
## 订阅产品id
FT0101231522033086
（普通会员——FT + 010 + 000~999随机数 + 时间戳）
（高级会员——FT + 100 + 000~999随机数 + 时间戳）

## 付费成功提交信息
付款后成功的信息提交到，下面这个网址
http://www.ftacademy.cn/index.php/pay/app

提交的信息要包括，订单编号，用户ID，付费金额。
提交变量名和提交的格式你自己定义

## track
http://static.ftchinese.com/js/log.js?v=7&20160318

路劲：\frontend\tpl\tracker.html

## 支付知识点
微信支付：
2种方式：
1. 微信里面支付：调用的是JSSDK
2. 浏览器中支付：是用H5打开
二维码支付->微信服务器->我们的服务器->我们的前端显示

支付宝支付：
1. 浏览器中就是用h5打开
2. 手机中是调用app，假如没有app，就登录h5

## 付费订阅页面：
cookie：
U：user_id
E: 加了密的user_id
我获取到这2个cookie，post给后台，后台通过user_id来判断是否跟后台的加了密的user_id一样，来判断是否是同一个用户

如果正确，会返回给我json数据，我通过这个json数据来更新页面
json数据包括user_id（用户id）、standard/premium（订单类型）、expire（截止时间）、trade_no（订单号）

升级价格，会返回给我数据（具体钱数），把`每年字符去掉`，

微信支付，点击立即订阅，会返回给我二维码，然后在页面中显示。（这个任务紧急）

立即支付得请求三次，如果第一次成功，后面就不请求。（这个是请求哪个）

**2018.04.02**
注意：
1. 需要用window.onload，不然不会读取到锁
2. addstoryclick();打开story
3. readstory(storyid, storyHeadline);
4. displaystory(theid, langmode, theHeadline);
allstories[myid] = jsondata;   jsondata为请求到的数
5. displaystoryNormal(theid, language, forceTitle);

网站列表页
dev_www/frontend/tpl/phone/nexthome.html:
/index.php/ft/channel/phonetemplate.html?channel=nexthome&screentype=wide&20180303100400

## 分析webapp模板
<%include file="phone/module/htmlhead.html"%>  是标题

$smarty.get.channe 得到什么？
$smarty.get.pagetype得到什么？

## webapp 代码
$('#slideShow').html(data);  data能请求到数据么？
思路是把url输出，然后访问url是否可行，如果可行，为什么#channelview不被替换。
点击没有反映的原因是因为加了on类，把整个页面覆盖了
showSlide("/index.php/ft/interactive/11341?i=2&audio=http://v.ftimg.net/album/FT-Listen-to-Lucy-If-there-were-no-losers-we-would.mp3","Without losers, we wouldn’t have winners", 0)

showSlide("/index.php/ft/interactive/11535?i=2&audio=http://v.ftimg.net/album/FT-Life-of-a-Song-The-life-of-a-song-Money-Thats-W.mp3","The life of a song: Money (That

因为写了括号，输出是这样的？

## 独家获取地方
<%elseif $list.feedType == "premium"%>
<%assign var="itemsArray" value=$storymodel->getPremiumStory($feedStart, $feedItems)%>


/frontend/tpl/phone/phonetemplate.html
/frontend/tpl/channel/phonetemplate.html   (编辑精选所在地)


## 强哥给的微信支付接口
ftjavacriptapp.payweixin('111234819986811','1','2','高端会员');         
订单号，费用（分），UID ，标题

wxpayActions('订单号', 'success')
wxpayActions('订单号', 'fail')

## 登录页面
安卓端：

http://api001.ftimg.net/androidapp.html#/channel//index.php/users/register?i=3

frontend/tpl/phone/register-new.html

## 微信支付
upgradePrice = '¥1,998.00';出错，需要修改，当失败的时候，会出现现在升级，得检查下ali支付是否也有这个问题

upgradePrice仅仅是显示，传入数据库中的price是从product-price获取
目前启动支付宝支付是没有问题，但是启动微信有问题（假如没有登录微信，会调出登录窗口，其它时候都是返回fail）

订单号一直一样是支付不了的，所以需要一直跟新（目前代码是除于跟新状态）

需要修改点：
1. 假如上线需要更新的地方：支付完成应该把支付宝支付调用公共接口
2. upgradePrice需要再测一测 （还得检查product-price值）
3. 测完之后删除alert
4. 检测是否post过去

SetCookie ('browT', timeIn , 0.001 , '/' , '');

    // var rCookie = GetCookie('R');
    // var referUrl = decodeURIComponent(rCookie);

    ```
    const promise = new Promise(function(resolve,reject){
        console.log('dataObj0');
        updateUI(dataObj);
        return resolve();
    })
    promise.then(function(){
        console.log('dataObj1');
        fromUpdate();
    })
    <!--先出现dataObj0，再出现dataObj1-->
    ```

    