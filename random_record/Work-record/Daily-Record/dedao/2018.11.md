**2018.11.01**
todo:
1. 思考跟静老师说什么？
2. 研究页面怎么优化
3. 研究自己的一些盲点和服务器渲染知识

如果点击的是图片，展示图片；如果点击的是音频，展示音频。根据被点击的data-src来判断是图片还是音频。
根据需求再更改下样式。
接口怎么告诉是图片还是音频？

半数以上
一个月定2个主题，2次技术，2次其他特长。我觉得需要这些还是很重要。
我觉得跨岗位了解一些知识还是很重要。
个人成长主要看个人驱动，没必要
我觉得需要一个领头人来指定谁来做，

autoplay="autoplay"


完成任务：
1. 完成评论区收缩和展开
2. 跟后台调通答题情况列表
3. 开发了点评和回复部分，还差接口
4. 实现视频、图片、音频展示和播放逻辑

**2018.11.02**
播放会有问题，考虑到多个视频的时候该怎么处理？

当有多个视频需要确定被点击了哪个视频，根据key来判断。
把其他的reply变成不显示，仅仅显示被点击这个显示。仅仅当前得显示和不显示，

[
    {
       "replys": [ 
           {
               isReply:false
            },
            {
               isReply:true
            },
       ]
    }
]

回复和不回复，可以先循环所有的，把它隐藏，然后再显示其中一个，

音频暂时没有暂停？
当点击音频时，当前音频和图片都需要隐藏，
当点击视频仅仅播放当前的那个，获取当前那个
音频能重复传多个吗？视频能重复传多个吗？图片能重复传多个吗？
当有多个时

抽离出音频组件，包括音频总时长、正在播放的时长、播放状态
终止其他音频，考虑需要传的参数（获取audio），写成接口的形式。

引用组件的地方，可以通过emit触发组件改变

点击父，并阻止冒泡，这样可以通过父用let audio = currentTarget.querySelector('audio')

第一步，先调通播放和暂停，并能正确出来样式。
第二步，使用emit调通播放时长
第三步，暂停其他音频，并且更改样式。
第四步，

先考虑怎么更改样式：
1. 获取目前正在播放的对象，这样就不需要遍历所有其他的。把正在播放的对象设为全局遍历吗？（熟悉一下）
当点击第一个的时候，就赋值给currentTarget，后面不断更新。
每个音频的index不一样，所以能找到不一样的。
2. 在此函数把值更改，（值能反映在页面上）


音频，你需要给我音频总时长。用来显示，难道还需要我自己计算吗？  记得把总时长传给子类

发现规律：任何元素都跟e关联起来
分别保持各自的时间长度：
第一步：研究样式更新
第二步：把正在播放的时长抽离出来还是写在原来页面上
第三步：把对应的时间和终止条件考虑进去

进度条需要更新其他样式，改变自己。
怎么更新其他样式：
遍历其他音频

修改成样式，改变position的值
**点击图片逻辑**
点击图片，获取当前被点击的图片，然后不断替代展开图片

**2018.11.05**
汇报：
改了音频和视频相关一些逻辑和展示，并抽离出组件，下一步跟后台联调。
目前样式需要大家看一眼吗？看还有什么改进意见

不用对象，直接遍历其他元素，不考虑其他办法，当碰到好的办法再进行尝试。
用class和属性都一样的意义。用属性或者class来控制逻辑，
遍历其他的属性，全部隐藏就行

发现现象，假如抽离出的组件，使用this.$refs.remarkPopover，获取值为undefined。

假如太下面设置在上面

135632705210683392
135632705210683392
https://coolcdn.igetcool.com/t/active/strip/20181105/1541401913000.jpg
https://coolcdn.igetcool.com/t/active/strip/20181105/1541401943000.jpg
OpenAPPMixin

顺序不对？
**2018.11.06**
上传图片时的三级照片是返回一个接口，上传音频是返回另一个接口

**2018.11.07**
工作目标：
增加代码的健壮性。
抽开出一些公用的组件。
完成公司需要完成的任务。


http://test2-4.igetcool.com/app-api-common-server/white/h5.json?h5Pid=263758965587001344&type=1 若行测试


http://test2-2.igetcool.com/h5/info.json?h5Pid=264238114671947776  时间问题


http://test2-4.igetcool.com/app-api-common-server/white/h5.json?h5Pid=263758965587001344&type=1

http://test2-4.igetcool.com/Active/homeActivity?h5Pid=262348315413295104

系统8.4

wx.config({
    debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
});


昨天添加微信中唤起app，解决iphone5s 8.4版本，点击后无法播放问题的问题，还有其他的一点小问题


https://coolcdn.igetcool.com/p/course/audio/20180306/1520316172000_48.m4a

https://cdn-qiye-dakavideos.jingdaka.com/video/2018/10/26/tmp_b74c2d2988f2bb1657c992d3b5666c1b923abbee8d701a53.mp4

https://staticcdn.igetget.com/docker/fe-iget-official/dist/img/gzh.c221e3d.png

需求：
课题中，加滚动条

修改：学员管理
添加：班级管理
按照报名顺序来划班

每个班老师不一样，
周2、4、6，课表一致，
调班需求，换老师
老师端发公告：老师端在哪里？
老师端写公告，学生端目前没有？


**2018.11.09**
汇报：

1. 在这一个月中，对vue框架更加熟悉了，能很快的上手，不过需要学习的东西还很多；根据每天的进度在完成公司的任务；也在逐步成长，工作和学习氛围都很浓
2. 从代码角度建议：
- 代码注释需要尽量写明
- 有没更好的代码管理方式，用堡垒机好慢
- 修改哪个参数代表含义，我觉得有个文档落地，这样去接触那个项目，能更快明白并且能考虑到
- 有些组件可以尽量抽离出来，或者增加代码健壮性，不过这个需要时间去打磨（得完成任务之后去思考这个问题）
3. 从技术分享角度：
我觉得半个月或者一个月搞一次，小组和整体可以结合的方式来实施。有个组织者牵头，小组从技术角度不错，不仅可以让别人学习，自己不懂的地方也可以让大家来指导。偶尔整体一起，方式可以不一定是技术。
4. 每天汇报，当时也想建议每天自己更新好自己的任务，这样效率更高



未完成任务：
1. wexin/analysis/general.json  接口未通
2. 点评提交之后，状态码能返回10000，但是页面中没显示出点评内容
3. 没有回复的测试数据，所以没有测回复提交
4. 希望有音频和视频测试数据
5. 没有答题情况列表翻页接口
6. 没有班级筛选接口
7. 精选和取消精选没调通(不理解commentPid从哪里传来)
8. 没有删除答题情况接口

bogon:project hehuiyun$ cd igetcool-inset-build/
bogon:igetcool-inset-build hehuiyun$ git branch
* master
bogon:igetcool-inset-build hehuiyun$ git branch -a
* master
  remotes/origin/HEAD -> origin/master
  remotes/origin/develop
  remotes/origin/master
bogon:igetcool-inset-build hehuiyun$ 



**2018.11.14**


编辑按钮置灰，图片格式限制，添加回复音频

没注册没有课？
拖动会影响其他样式
136
247
创建课再创建时段，然后再分班级
12月3号，，试听课，不分时段不分班，把报名去掉
12月17号，做试听课直播，分时报和分班都得做。
1和2年级下，课表一样，购买，弹出浮层，选分时段，
cms：创建课：课下面创建时段，课下面填名称，然后到班级，班级下面再到小节（班级最大上课人数），小节关联班级（允许选其他班级）。
名称、最大报名人数、当前人数
当所有班吧报名，自动售罄。
随堂测验是什么？
app端:


分时段
分班

之前不分时段
总共作业：答题、分班、报名、揭露、小作业
需要扫出道

export const formatDuration = duration => {
    duration = Math.round(duration);
    let minutes = parseInt(duration / 60);
    let seconds = parseInt(duration % 60);
    minutes = minutes < 10 ? '0' + minutes : minutes;
    seconds = seconds < 10 ? '0' + seconds : seconds;

    return minutes + ':' + seconds;
};
// 2623/1000
function formatDuration(duration){
    duration = Math.round(duration);
    let minutes = parseInt(duration / 60);
    let seconds = parseInt(duration % 60);
    minutes = minutes < 10 ? '0' + minutes : minutes;
    seconds = seconds < 10 ? '0' + seconds : seconds;

    return minutes + ':' + seconds;
}
formatDuration(2623/1000);
formatDuration(3960/1000);
formatDuration(4281/1000);
// 2623   3960  4281

<!-- <div style="height: 40px; width: 300px; border: 1px solid rosybrown;">
<div  class="audio-wrap-container">
  <div class="player-container">
    <span ref="pButton" class="play-btn" ></span>
  </div>

  <div class="audio-info-detail">
    <div class="audio-progress-bar">
      <audio src="https://cdn-qiye-voice.jingdaka.com/backend_voice/2018/10/26/tmp_fd7c3ab663a047847ac697259e62266772ea53c94017335e.mp3"></audio>
      <div class="audio-progress-circle" style="left: 32.9048%;"></div>
      <div class="audio-past-time" style="width: 32.9048%;"></div>
    </div>
  </div>
  
  <div  class="audio-info-time">
    <span class="end-time">00:21</span>
  </div>
</div>
</div> -->

<!-- <teens-audio 
    :key="23" 
    :index="23"
    >
</teens-audio>
<teens-audio 
    :key="24" 
    :index="24"
    >
</teens-audio> -->

https://blog.csdn.net/gongzhuxiaoxin/article/details/52894784

https://www.jb51.net/article/75867.htm

https://blog.csdn.net/zheng12tian/article/details/40617237

**2018.11.19**
我需要总结的地方：
1. URI和URL的区别
2. 跨域的多种形式（实例结合）
3. 为什么需要跨域？

强依赖
1.4.1需求评审：
教研主任，负责物料关系。
通过小节管理班级，
时间段
小节中包含老师、课时、班级、时间
按照课来筛选，老师跟着课走。
1、3、6，2.4.7
添加完时段，管理班级
时段下有哪些班级，和小节分开
一个班36个小节，也就是36个班。
卖的时候
每个老师上的小节是一样的吗？一个小节是一周上的是一样吗？
1.3.5分别对应3个小节，2.4.7分别对应3个小节
每个班只能选2个时间段，1个班有一个老师，假如有10个班，这个星期就是每天有5个班在上。
小节创建时间。
小节上课时间，属于哪个时段属于哪个班级，
目前思路：
小节肯定是物料，不能创建多份。
课程时段班级小节相连。
1.3.6确定是
2-10-2-36
小节去关联教师。
通过筛选出来，只有第一个能点
默认生成一套课表，这个课表在哪里显示？
为什么是默认生成，没有选择的地方？
没添加小节，排期为空，关联也空。
先选班级和时段，再小节。
1月3号跨年演讲结束。答题需要更新sdk，提审是双12。

小节跟课程。
对哪些班级开放？挂某个班级？支持多少班级？
开始时间，周几开始上，课表
时段管理是：教研
小节：次序和权重顺序依然有。
课出来了还没时间
时段出来了，时间就出来了。
到时间段，班主任点上课。
点了生成教师前，可以点编辑。
如果直播开始了，还能编辑吗？不能编辑吧。
编辑时间后再生成教室。编辑时候允许挂钩班级。（添加班级挂钩，挂在哪个班级，默认选中已经选的，选择）
可以修改关联班级

班级和课时不能选错？
更改班会时间。
不同时段和不同班级。

**2018.11.22**
上课的时候生成课程表。
流程图、用例图、时序图
先教研，根据不同的人做了什么
固定在某个场景下，再画流程图。
有个流程，知道对不对。
场景、角色、流程混在一起。
没有依赖关系。没点上架，就不用关联。上架的时候判断。上架之后班主任才能上课。
课表那有上架。小节没有上架。什么时候班主任能上课？
教研上架还是班主任上架？某一节课眼杂了，想下架。
直播列表跟教研生成的
某个班级添加小节。

一个阶段的总结：
来公司1个多月。
todo:
更加熟悉vue的用法， 尝试各种不常用基础，深入学习跨域，学习linux快捷键，尽量分割出组件。
得到大学：参加面试助理和偶尔几次线下
会上大胆地说。
多尝试一些不常用的功能
poseoto
时段在课程之下。
一个时段，不同的班，不同的时间。
班主任用名去筛选
课，名称（应该同一个时段可能有不同的时间点），班级

一张er，一张需求，一张这个图
编辑时段，多一个时段id。
已经关联好班级，不能删除时段。不能重复。
判重复。相同时间
courseid+时间+周几；
没上架不会出现班级。
小节下架，课表也下架，

上课和排期，排期是调研人进，调研有按钮，班主任没有编辑。
班主任只能点生成教师。
教研主任按钮，是做调整顺序？
生成教程之后变成重新生成，并且要二次确认。（权限仅仅给教研主任）
合班：教研课表
只有2次，重新生成，还得确定下时间有没修改。
重新生成教师根据后台flag来判断。
可能提前准备课件。
自动安排课表：自动生成列表，传课程id。
入参是生成id。
班级列表，入参是当前课表id。
课程列表：课程id，时段id，班级id


**2018.11.23**
- 合班：课表id和班级id（数组，选中的班级）？需要遍历班级，然后根据选择的班级传给后端。
- 自动安排课表：课程id - 自动重新生成课程相关教室信息（教师信息包含什么？怎么展示？）
课表包含：时段、班级、时间
时段根据关联的班级来获取一组值。
课表包含当前课程里的所有班级、时段、具体时间点。
每个老师的课表一半一样，一半不一样。
比如：1班135对应7点，2班135对应7:30，1班247对应7点，2班247对应7:30。
传课程id所以还是得先筛选出课程id才能传参。
选了课程，不选时段，自动全部生成所有。
我做：我仅仅需要传入参数，获取值，然后刷新页面，但怎么跟新第二个页面呢？难道是这个页面变化了，第二个页面也是获取自动生成的页面。
- 生成教师：
入参：课表id
流程：点击后，和百家云交互，生成直播相关信息，roomid等

如果没有roomId就是隐藏的，如果有roomId就显示。

- 重新生成教师：
教研主任生成教师，然后班主任又去生成，是不是要判断教研主任生成过，班主任就不需要再去生成吧？互相有个提醒吧？
入参：教室id，新的直播开始，结束时间
流程：如果老师需要单独重新上课，那么首先调整此关联数据的直播时间，`调整时间必须是未来时间`，然后和百家云交互，生成一个`新的roomid`。
必须生成回放之后才能点击再次生成。 (点击生成教师之后，再点击重新生成教师，需要后台)
- 课程列表：课程id、时段id、班级id，有分页

选了课程就会出时段，时段和班级关联，选了时段，就会出班级。

现在能做的是做动作按钮，然后

我的思路：如果在教研那生成了上课地址，当点击生成班级，就出现生成班级的链接，如果没有生成

当助教和老师一起打开页面，没看到刷新时间怎么办？我觉得可以设置权限能看到对应的栏目吗？或者

助教上课地址和老师上课地址的url不一样。

- 想问下：跟百家云交互，需要传什么参数，跟始终时间有关系吗？生成上课地址有次数限制吗？

现在我能做的，是postMessage，另更新另一个页面的值。


**2018.11.26**
todo：清空下拉框值。
假如没有生成，要重新课表
需要2个接口：一个接口没值，一个接口有值，有值就展开，没值就收起。

加军时段名："timeFrameId": "271050914228318208",
若航时段名：scheduleId
课表id需要传给我，我现在还没有。


课程时段相关接口 - 王加军
  http://wiki.luojilab.com/pages/viewpage.action?pageId=23094019
课程班级相关接口 - 王若行
  http://wiki.luojilab.com/pages/viewpage.action?pageId=23093972
课程小节相关接口 - 李涛
  http://wiki.luojilab.com/pages/viewpage.action?pageId=23093989
课程课表相关接口 - all
  http://wiki.luojilab.com/pages/viewpage.action?pageId=23094038

  我要联调的接口：
  课程，时段，班级级联
  合班，生产班级，生产课表，编辑时间，
  课程列表

  在哪显示课表？
  打开页面，默认出现课程列表。选择课程列表，出现时段列表，选择时段出现班级列表。
  从左往右选择默认显示
  当时段或班级都出现的时候，然后选择班级，会获取新的课程列表，
  当点击x时，会更新课程课表

  **2018.11.27**
  有自动安排课程信息
  没有生成课表信息

  **2018.11.28**
  直播完成是不刷新
  分页
  下拉框
  理解每一个接口
  自动生成课表（全部生成课表）
  课下时段下面未提示。只按课程来生成。这些章节课表没有生成。
  生成全部和生成增量。
  有需要生

  只显示这个课程下的所有小节，不显示班级，默认进来什么都没有。
  全部班级，课程和时段默认选中。
  只是时间有变化。
  必需选一个课程，默认是第一个时段。
  班级是全部班级
  列表只跟课程有关系，时段和班级仅仅跟下面时间有关系。
  必须选了班级，才能点生成教室。
  不排时间，或者也可以排。生成这个班级下的，这个时段下的。
  班级默认，增量排，这个课没排的都自动生成。

时间不排，要不要覆盖其他所有的。
同步到其他班级。
默认选中课程、时段、班级（按照权重给）
选了班级之后
自动同步班级、自动生成课程
按钮：自动排时间（自动排期）、同步课程表
必须选了3个才能有值。
选了班，就同步之前创建的小节。
生成记录没有时间，点击自动安排时间才有时间。
进来仅仅是补小节不补时间，提示选班。
始终有前面时间为准。
排完之后有没冲突。
同步在这个时段下的所有班级。覆盖其他所有小节。
未上课这种逻辑，已上课不管。
班级重复？没有时间就不能生成教室。
遍历一边再遍历一边（重复提示）
只显示其他班，提示有没安排时间。
提示有没有时间。去选择其他班来提示。
只排没安排时间的。
更新时间后面不自动排
必须先创建百家云教师才能合班
班主任管理班级


保持上一次的值一直是不变的

 影响范围：CMS中，在课程下面添加了2个导航入口（班主任入口和助教入口）

 type:2
 时段id
 **2018.11.30**
下个月计划：
1. 精进代码
2. 尽量把2个代码合起来
3. 根据需要完成需要完成的任务
4. 适量的技术分享（多去了解）
5. 深入学习前端相关技术
6. 解决技术债
积极参与其他部门的活动，准备技术分享，补充专业知识，完成工作任务，精进代码。
下个月计划：以完成工作任务、解决技术债为主；尽量考虑增加工作效率。
做完的东西需要一个阶段一个阶段跟踪，不然每次做出来的东西担心会出现一些偏差。我们的人员有限，需要别人作出审核或提意见。
最近一直在看宁向东管理学课

按照进度完成小程序、答题统计、分时段分班级等工作任务。
