**2018.06.05**
完成任务：
1. 跟编辑处理下表格代码
2. 跟angela确定代码跟踪
todo：
1. 明天测试微信支付
2. 学习react
3. 跟超哥确定协议弹出 
4. 点击按钮，弹出一个协议页面，必须先阅读，点击同意或不同意页面消失，点击同意自动选上，不同意的话是不能让其注册。

**2018.06.07**
问题：
1. applyMiddleware的源代码、使用原理和怎么使用？
2. vue和react的区别，应该说我看了一些，但是没去深究，我觉得都是想通的，改变一些思想也能很快学会
3. 哪些地方用state，哪些地方用prop

    var SELabel = '11/IOSCL/F729AD659179B6EAD8753ED177977443EE27410F82DD2072CCF3EA4FEB9BCDD8';
SELabel.indexOf('/IOSCL/');
SELabel.split('/IOSCL/');

**2018.06.08**
记录：
1. 添加ios付费跟踪
2. 根据需求，修改web端用户协议动作
3. 为编辑编辑table代码
4. 需要安卓bug


<div style=" padding: 0 30px;"><b><i>为适应法律法规和英国《金融时报》中文网业务的更新，我们修订了新版用户协议（服务条款）包含隐私保护政策，敬请您点击查阅。</i></b></div>


项目：订阅完成，如果订阅完成之后，返回不会再弹出notice页面，如果支付完成，请求一次后台已经打开过此页面，就不会再弹出了，返回

**2018.06.11**
todo：
1. 退款
2. 继续学习react实例
3. 研究安卓问题
今晚的任务就是resume


数据请求来保存在json数据中，然后渲染出来，用got抓取数据
抓取所有的用了Promise.all，遍历每一个promise

获取中国和美国经济一览图，包括：GDP、房地产、增长来源、经济市场、利率、劳动力、贸易
google中有gapi.client.request获取数据，也是异步请求来的数据，配置gulp，使用fetch抓取数据
把获取的值，再重新整理
把创建表格写成一个接口
write-json-file 写到json文档中


**2018.06.15**
测试ccode
Web Pay Wall: com.ft.ftchinese.mobile.subscription.member  166
Web Pay Wall: com.ft.ftchinese.mobile.subscription.vip  2

**2018.06.20**
Hash: 990a0bb2724de5e11291  这是什么？
Hash: 80c12d29a4ae46e1acd1
webpack-hot-client/client?17859f9b-25c6-48a7-b765-e26c7d2076ac

index.80c12d29a4ae46e1acd1.hot-update.js  4.47 KiB   index  [emitted]         index
    80c12d29a4ae46e1acd1.hot-update.json  47 bytes          [emitted]         
Entrypoint index [big] = index.js index.80c12d29a4ae46e1acd1.hot-update.js


ℹ ｢wdm｣: Hash: f8fca5b7f24072f5acec
Version: webpack 4.2.0
Time: 11297ms
Built at: 2018-6-20 09:49:44
                                    Asset      Size  Chunks                    Chunk Names
                                 index.js  2.68 MiB   index  [emitted]  [big]  index
                                signup.js  2.37 MiB  signup  [emitted]  [big]  signup
signup.6c104c0f7c1d6f34fc9e.hot-update.js  4.58 KiB  signup  [emitted]         signup
     6c104c0f7c1d6f34fc9e.hot-update.json  48 bytes          [emitted]         
Entrypoint index [big] = index.js
Entrypoint signup [big] = signup.js signup.6c104c0f7c1d6f34fc9e.hot-update.js

  ｢wdm｣: Compiled successfully.
  <-- GET /tmp/b0185e6f55daaed0000d.hot-update.json
  --> GET /tmp/b0185e6f55daaed0000d.hot-update.json 404 9ms -


  {"h":"986b3129099e20f4c986","c":{"signup":true}}

  986b3129099e20f4c986为hash值

  每次服务端发送的消息(EventStrean) 的 hash 将作为下次 hot-update.json 和 hot-update.js 文件的 hash。

  内存中的页面包含热跟新.js文件。
  
**2018.06.21**
  todo:
  1. 经常写apply，这个需要研究其用法
  2. js哪里的mixed代码？mixed和any的区别
  3. 完成代码

疑问：
1. 方法怎么变成html
2. 事务代码在哪里，怎么分析？

**2018.06.27**
todo:
1. 跟踪浏览时间，在此基础上还得userId
2. ftacademy添加需求

**2018.06.28**
思路：
文字、价格、输入后面参数都可能变化，默认值和条件值

// localStorage.getItem("jsArr")是字符串，需要变成对象形式,JSON.parse(localStorage.getItem("jsArr"))

http://www.corp.ftchinese.com/engagement.php

http://172.27.10.15/tt/test.html 

**2018.06.29**
1. web端gdpr样式调整
2. 兑换码项目
3. 在线时长检测
4. 添加中英对照print
5. 寻找我的FT，关注问题

在线时长检测思路：
一天post一次，多久记录一次
假如手机放在那，页面应该还是在计数吧，
找最后一次关闭的时间，关闭页面那一刻

什么时候关闭
cookie是跨域，当结束的时候读取那个cookie值，cookie就是结束的时间，post他们的时间差。
因为cookie有同源策略，所以能通过域名读取时间
同时打开多个网站情况：
在最后面关闭的时间，记录最大的时间。怎么样才能知道这个时候不中断呢？
半个小时之内，不执行

当完全关闭，就找不到cookie了，下次打开重新setCookie，关闭浏览器执行getCookie,用此值

在setCookie的时候，仅仅设置了set当时的时间，cookie并不会变化。

数据通过什么关联？

当最后一个页面不退出怎么办？

间断打开网站情况：

storage没有同源策略

怎么知道一直在执行或者什么时候不执行累加函数？

什么时候

打开新页面的时候（打开相关的参数），进行post；如果继续访问，该页面关闭记录（关闭相关的参数）。

实验过是一直在执行setTimeout
当hidden的时候，隐藏叠加，当打开时候继续添加

var interval = window.setInterval(function () {
    console.log("失去焦点"+document.hidden);
}, 1000);
1s之后才会执行document.hidden，所以直接写document.hidden不一定能执行到，并且js代码是执行一次，不像setInterval一直在执行。

如果关闭浏览器，clearInterval

var secondTime = 0;
window.setInterval(function () {
    if(document.hidden){
      alert('secondTime:'+secondTime);
    }else{
      secondTime++;
    }
}, 1000);


document.addEventListener(visibilityChange, handleVisibilityChange, false);

window.clearInterval(interval);  //不能clear，不然不能保留整个浏览时间。
如果没有关闭，超过24个小时，secondTime = 0;
localstorage中所有页面的url吗？按照24小时post一次。
有2种思路：
1. 全部存到storage中，一天post一次
2. 每打开一个页面post一次
按照付费用户，来决定是否加载，文件打开的时候进行第一次加载

把整个过程浏览时间保存在cookie中，如果保存为全局变量，重新打开页面会重新赋值为0。如果在cookie中加入没有关闭浏览器，就能读到对应的值，secondTime初始值就不是0了。

每个页面post，如果待机状体，24小时之后再post一次。单词post的数据是此次的，24小时之后post的是所有浏览的
var totalTime = 0;
var interval = window.setInterval(function () {
    if(document.hidden){
      console.log('totalTime:'+totalTime);
    }else{
      totalTime++;
      <!--SetCookie ('time', totalTime , 0 , '/' , null);  //时间设为0证明关闭浏览器cookie就失效-->
    }
    if(totalTime>10){      
        window.clearInterval(interval);  
        totalTime = 0;
        console.log('totalTime11:'+totalTime);
    }
}, 1000);

