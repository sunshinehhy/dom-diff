**2019.3.01**
分享免费听由我来反述，它的主要作用是为了引新，裂变出更多的新人注册和浏览。

先讲 h5 交互页面，当没完成的时候和完成时候。
这个页面会根据完全情况和活动是否结束，作出相应的更新。

先说按钮逻辑：
不可正价购买是这样的。
如果版本不够，弹出立即升级。

- 底部按钮悬浮固底展示

限时 0 元领取，有多种情况，在正常情况下是触发 2 件事（进入页面、后台记录）、手机号需要校验。点击下载进入下载逻辑。
还有其他情况：当。。。

现在回到分享记录页的入口：

- 没人领取
- 一部分人领取
- 全部领取

- 【分享】：调起分享功能，分享”活动待领取页面“，如用户已登录，则携带分享者信息，如果没有登录就不添加携带信息
- 新用户：活动结束后，未登陆进入结束页面。如果结束前，请免费试听
- 应该添加一个字段，确定是不是此类活动页吗？
- 分享出去，进入分享页的图就不显示
- 分享记录页是添加生成的链接（在 app 中生成的链接在 web 中不能打开吧？）
- 进入书房、分享和购买，都是先进入登录流程吗？我看购买不是先进入登录。h5 活动页传的数据，在购买中也能获取到响应的参数吗？
- 活动时间要默认值？
- 时间差值是左右闭环吗？
- 记录分享者与领取者的关系？这属于哪种关系？
- 商品名称是对应哪一个？
- 授权：同现有 H5 页面授权逻辑？授权是得不到微信 id 的，输入电话号码根据 app 和领取状态是否注册
- 活动已经结束，上面剩余 000000 秒
- 确定下样式问题？
- 放入书房的顺序是什么？

记录一些关键点：

- CMS h5 活动页继承了之前的规则。
- 【...】：此处分享时，携带原分享者信息，而不是打开此页面授权的用户信息
- 已购买人数：该活动关联商品的已购买人数+此活动已操作领取的人数（满足领取条件）

活动待完成页面部分：分享、已购买人数、剩余结束时间、碎图、音频、底部按钮
活动已完成页面：对照图说。包含”已达成活动领取条件“、”通过活动领取成功的新用户“、”已购买此商品成功的用户“
活动待领取页面：正常情况、升级、

先待完成（讲按钮逻辑） ——》分享（活动待领取页面）->（领取成功页） ——》已经完成 ——》购买成功会自动刷新到已完成页面（弹出购买成功） ——》分享记录页 ——》放入书房的判断规则 （说 push）——》CMS ——》数据统计

UV(独立访客)是同一天同一个人的访问次数、一天只会记录一次，PV（访问量）是页面浏览量或点击量,用户每次刷新即被计算一次。

评审完的时间，再估期时间

**2019.3.02**
分享免费听-CMS
分享免费听-H5
前端技术债-CMS

任务分配：

- 待完成页面（1 个按钮）+ 已完成页面（2 个按钮）1 天 1 天联调
- 领取成功页 1 天
- 活动领取页面 1 天 1lt
- 分享记录页 1 天 0.5lt

- CMS 1 天 1lt
- 数据统计（前端打点） 1 天

- 技术债 1 天 0.5lt 0.2 个人

总共 11 天干活时间
18 号提测

项目版本号：H5 V1.4.7 —— TB 上已经建立迭代
当前阶段：待开发阶段
里程碑时间：
达到提测状态时间：3 月 18 日（可能根据后端架构设计后调整【比如推迟或者部分提测】）
发版时间：3 月 29 日
测试时间：3 月 19 日~3 月 27 日 负责人：催金明、蔡东升、梁小平
后端架构设计时间：3 月 4 日 负责人：王若行
交互设计时间：3 月 4 日~3 月 6 日 负责人：陶亮
前端开发时间：3 月 4 日~3 月 18 日 负责人：何辉云（1 人）吴振雪 （0.5 人） 张莹莹（0.2 人）
ios 端开发时间：3 月 16 日~3 月 18 日 负责人：范文强
android 端开发时间：3 月 13 日~3 月 18 日 负责人：杨宇

负责人如下：
前端：何辉云（1 人）吴振雪 （0.5 人） 张莹莹（0.2 人）
后端：王若行
安卓端：杨宇
ios 端：范文强
测试：催金明、蔡东升、梁小平

希望产品能验收，上线后碰到问题技术反馈

产品应该认真验收。

前端在开发过程中需要尽量把测试用例中不全的东西，同步给测试。提测清单尽量开发人员写一份，因为开发人员比测试更清晰逻辑，

开发人员尽量把每个逻辑可能影响的范围考虑清楚，并且多试不易测试点。建议开发人员出详细提测清单
打点交互逻辑比较多的页面，花尽可能多的时间自测。

这个总结的用处大吗？感觉没多少人会去看，需要会议上探讨。

**2019.3.4**
http://wiki.luojilab.com/pages/viewpage.action?pageId=23080583 （值班表）

找出 paramCode 对应的 paramName
V1.4.7 和 V1.4.6 并行开发

2019 年 3 月 4 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  前端：

  1. 前端 CMS 技术债

  - H5 活动页，增加预览功能 ———— 100%
  - 留言模块，增加留言所属的课程标题/小节标题 ———— 100%
  - banner 关联 H5 活动页出现排序后的列表 ———— 0%

  2. 分享免费听 H5 活动页 ———— 20%，无风险
  3. cms 分享免费听页面开发完成 ———— 20%，无风险

  客户端: 未开发；
  后端架构评审：3 月 4 日晚上确定人日数 ———— app 6 人日 + cms 2.1 人日 + push 0.5 人日 + 其他流程耗时 0.5 人日（共 9.1 人日）；
  时间调整原因：因为 V1.4.6 按原计划推迟多日，然后考虑 V1.4.7 跟随 V1.4.5 发版，但经讨论时间不足，所以明天早会讨论尽量 V1.4.6 和 V1.4.7 按照原计划进行（3 月底上线）；

  因为时间太晚，相关当事人走了，达到提测时间、测试时间、前后端上线等后期时间早会讨论确定。

2019 年 3 月 4 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  前端：

  1. 前端 CMS 技术债

  - H5 活动页，增加预览功能 ———— 100%
  - 留言模块，增加留言所属的课程标题/小节标题 ———— 100%
  - banner 关联 H5 活动页出现排序后的列表 ———— 0%

  2. 分享免费听 H5 活动页 ———— 20%，无风险
  3. cms 分享免费听页面开发完成 ———— 20%，无风险

  客户端: 未开发；
  后端架构评审：3 月 4 日晚上确定人日数 ———— app 6 人日 + cms 2.1 人日 + push 0.5 人日 + 其他流程耗时 0.5 人日（共 9.1 人日）；
  时间调整原因：因为 APP V1.4.6 客户端上线时间推迟多日，因此考虑 V1.4.7 中的 APP 功能同 V1.4.5 一起发版；

  因为时间太晚，相关当事人走了，达到提测时间、测试时间、发版时间、前后端上线等后期时间早会讨论确定。


    ------------------------

一、项目版本号：App -1.4.6
当前阶段：待开发阶段

二、里程碑时间点：
后端架构评审：3 月 4 号 15:00 -16:00；
联调时间：3 月 18 号;
达到提测状态时间：3 月 18 号 晚上；
整体测试时间: 3 月 19 号-3 月 28 日;
前后端上线时间：3 月 28 号晚上；
内测时间：3 月 29 号；
客户端提审上线时间：4 月 1 号;
客户端灰度时间：4 月 2 号；
客户端上线时间：4 月 3 号;

三、迭代人员安排：
前端：莹莹: 0.9
后端：李涛 0.2 若行 0.2
IOS：小强 0.8 李浩 1 王伟 1
Android:：建强 1 水方 0.5 杨宇 0.3 龙翔 1
测试-IOS： 金明 1
测试-Android：小平 1 东升 1

---

**2019.3.5**

2019 年 3 月 5 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 工作进度：
  **前端：
  CMS 技术债 ———— 80%，无风险
  分享免费听 H5 活动页 ———— 40%，无风险
  cms 分享免费听页面逻辑 ———— 25%，无风险
  **后端：
  未开始
  **ios：
  开发分享分享功能、书房路由 ———— 3 月 6 日开始和前端联调
  完成活动分享功能，达到提测状态 ———— 3 月 8 日
  **android：
  完成首页书房路由跳转，其他未开始 ———— 3 月 6 日开始和前端联调
- 整体风险评估：
  无风险

**2019.3.6**
需要问的地方：

1. 弹出 toast
2. 调用登录接口
3. 点击进入到书房页面（不需要升级）

点击【请好友免费听】：弹出分享交互，分享”活动待领取页面“，携带分享者信息，和三个信息和 id。

点击动作和触摸动作

安卓没有调用弹出，也就是没有这个逻辑。ios 有这个逻辑，但是哪个函数是调用登录。有用户 id 就作出请求。
原生调用 js，js 调用原生的。

你说的路由是什么意思？
https://www.cnblogs.com/fengmin/p/6558470.html

登录成功后，更新页面信息？
调用路由：ios 和 android 分开写。
调用之后会返回结果，前端处理得到的结果。
讲函数挂载在全局，当客户端调用，js 也调用。
确定好传哪些参数？2 端的写法？

checkstatus 是原生把值传给 js 来处理。也就是把 js 的函数给原生调用。（原生来传值）
如果 js 调用原生，直接调用就好了。
此例子写出全局的，是调用的时候就调用。

需要做的事：

1. 弹出框
2. 根据不同的状态下面设置不同的按钮
3. 调用登录接口
4. 手机号码验证
5. 调整样式（检查 iphoneX 中的样式）
6. 分享记录页只是展示、H5 页面需要做各种判断弹框、领取页面需要验证是否领取成功。

2019 年 3 月 6 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 工作进度：
  **前端：
  CMS 技术债 ———— 80%
  分享免费听 H5 活动页 ———— 45%
  cms 分享免费听页面逻辑开发完成 ———— 35%，3 月 7 日与后端联调
  **后端：
  CMS+H5+APP ———— 5%
  **ios：
  书房路由 ———— 待测试
  分享逻辑开发完成 ———— 3 月 7 日与前端联调
  **android：
  书房路由 ———— 待测试
  分享逻辑开发完成 ———— 联调完成
- 整体风险评估：
  无风险
  @靳顺隆 @韩宇 @王亚男

**2019.3.7**

189 1147 4570 8888

- 验证是否登录传参
- 分享出去的链接需要后台
- 自己设置 2 个字段判断情况弹出框

## CMS 的问题

CMS 显示时间和播放时间不一致。
视频和音频交叉播放；
进度条拖动；
CMS 编辑
编辑页面的时候保留排序
获取后台值有关。第一影响老师那边：默认排序修改精选，按精选排，再按提交时间。

直播课：编辑课程，cms 中加上是否需要展示。默认显示是
常见问题解决方案。

# 前端

点击次数，（渠道：安卓和 ios）
立即邀请好友次数
输入框点击了一下去掉
区分在哪个页面点击：立即 0 元领取
点击右上角分享（拿不到，不需要，可以看在哪里调用）
领取成功页访问的 PV\UV

升级按钮点击次数
登录页面进入来源（不需要记录）

领取成功再点击失败：后端会记录失败的原因

# 原生

取消、分享渠道(支持 4 个)
区分活动、返回也要统计

分享记录页跳转到另一个页面（点击次数、点击渠道）
不区分页面弹出分享框。

http://localhost:8888/courseMakeClass/workAndAnswerDetail?courseId=295333982098333696&chapterId=301888113319518208&scheduleId=301888792306032640&classId=301880383271772160

暂时保存输入框的值，把初始值一直保存下来。

let audio = currentTarget.querySelector('audio')
audio.pause();

let video = currentTarget.querySelector('video')
video.pause();

APP - 免费领取详情接口 ———— 免费领详情接口
APP - 领取接口 ———— 35%
APP - 分享记录接口 ———— 35%
APP - 领取成功推送消息 ———— 35%
开始时间：

2019 年 3 月 7 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 工作进度：
  **前端：
  CMS 技术债 ———— 80%
  分享免费听 H5 活动页 ———— 48%
  cms 分享免费听页面逻辑开发完成 ———— 正在联调，40%
  **后端：
  H5 端接口（免费领取详情、领取、分享记录、分享信息） ———— 10%
  CMS 端添修删查列表和单个详情 ———— 0%
  **ios：
  埋点开发完成 ———— 待测试
  书房路由 ———— 待测试
  分享逻辑开发完成 ———— 联调完成
  **android：
  埋点开发完成 ———— 待测试
  书房路由 ———— 待测试
  分享逻辑开发完成 ———— 联调完成
- 时间进度：13%
- 研发进度：20%
- 整体风险评估：
  无风险
  @靳顺隆 @韩宇 @田有臻 @王亚男

768 的宽度，太高，图片会突出来

    <!-- <div class="receive-success-contanier">
      <div class="image-box">
        <div class="receive-success-word-image">
          <img src="../../assets/img/activity/receive_success_word.png"/>
        </div>
        <div class="img-section">
            <img src="https://coolcdn.igetcool.com/t/popup/top/20181121/1542784058537.jpg"/>
            <div class="catagory">学科</div>
        </div>
        <div class="class-name-section">《少年经济学》</div>
        <div class="download-app-btn">
          戳此试听
        </div>
      </div>
      <div class="warning-box">
        <div>* 请在YYYY年MM月DD日前，使用<span>13800138000</span>账号登录「少年得到」App 确认查收，逾期失效。</div>
        <div>* 查收方式：在App内点击首页右下角“书房”即可。</div>
      </div>
      <div class="wave-flower-curtain">
        <img src="../../assets/img/activity/wave_flower_curtain.png"/>
      </div>
    </div> -->

    检查有音频还是视频？现在是要检查到有另一个音频在播放，就停止。怎么检查正在播放的音频？

    有几个地方需要保存：
    当点击评分和输入框失焦的情况下。

    失焦是要触发在控件消失的动作。
    以后还需要考虑保存录音。

    输入保存，但是值要保存下来。
    提交变为0个，提交的内容为空。

影响的函数：提交评论，打开评论窗口
增加的函数：消失时触发的函数、输入框失去焦点的值

修改之后提交，打开默认值是提交后的值；
修改没有提交，打开是编辑的值；
提交后注意列表中提交的值。

如果默认内容为空和没有编辑的值，显示为空；否则不为空

2019 年 3 月 8 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 工作进度：
  **前端：
  CMS 技术债 ———— 80%
  分享免费听 H5 活动页 ———— 50%
  cms 分享免费听页面逻辑开发完成 ———— 50%
  **后端：
  H5 端接口（免费领取详情、领取、分享记录、分享信息） ———— 20%
  CMS 端添修删查列表和单个详情 ———— 0%
  **ios：
  埋点开发完成 ———— 待测试
  书房路由 ———— 待测试
  分享逻辑开发完成 ———— 联调完成
  **android：
  埋点开发完成 ———— 待测试
  书房路由 ———— 待测试
  分享逻辑开发完成 ———— 联调完成
- 时间进度：30%
- 研发进度：30%
- 整体风险评估：无风险
  @靳顺隆 @韩宇 @田有臻 @王亚男

**2019.3.9**
当点评的时候：插入在对于的 id 下面，找到根据什么 id
点评肯定是插到第一条中吗？更新 this.answers 值

当回复的时候：插入在对于的 id 下面

当精选的时候：提交点评的时候，获取点评数，然后更新值，但不刷新页面

relation：为什么是 0 呢，难道因为我不是老师吗？
头像去哪里获取？commentId 怎么生成？
检查每个 id 是否正确？
answers 和 replykey 不能对应起来，这个需要好好考虑
let obj = {
"nickName": answer.nickName,
"parentPid": answer.replys[replyKey].id,
"updateTime": formatDate(new Date(),'yyyy-MM-dd hh:mm:ss'),
"userHeadUrl": null,
"relation": answer.nickName + answer.replys[replyKey].relation,
"replyTime": formatDate(new Date(),'yyyy-MM-dd hh:mm:ss'),
"createTime": formatDate(new Date(),'yyyy-MM-dd hh:mm:ss'),
"identity": 2,
"repliedUserPid": answer.userPid,
"repliedNickName": answer.replys[replyKey].nickName,
"userPid": answer.replys[replyKey].repliedUserPid,
"commentPid": "",
"id": "",
"replyContent": [{
"length": null,
"type": "1",
"content": value
}],
"markNum": 0
}

**2019.3.11**
先封装好，再联调（先调登录接口），加上接口

检查是否登录是需要后台给个接口吧？这个 ios 和安卓都不需要做对吧。
原生去请求后台接口，(可能带有用户 id)
刚进入不需要验证是否登录？

传给微信的信息，需要用接口来获取。
分享接口，单独再写一遍分享出来的值。

分享成功，和领取页面联调（领取完，电话号码需要置空吗？）
有个神马参数来判断是普通 h5 还是特殊 h5，配置参数

http://test1-2.igetcool.com/entrance/select.json?id=1

用什么判断是新用户还是老用户？
用 status 判断是否领取过？
用结束时间来判断活动是否结束？

13 号后天联调，14 号核对 UI，14 号让阿雪接手（埋点）

2019 年 3 月 11 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 工作进度：
  **前端：
  CMS 技术债 —— 80%
  分享免费听 H5 活动页 —— 55%，等待联调
  cms 分享免费听页面逻辑开发完成 —— 60%，联调中
  **后端：
  H5 端接口（免费领取详情、领取、分享记录、分享信息） —— 30%
  CMS 端添修删查列表和单个详情 —— 60%
  **ios：
  埋点开发完成 —— 待测试
  书房路由 —— 待测试
  分享逻辑开发完成 —— 联调完成
  **android：
  埋点开发完成 —— 待测试
  书房路由 —— 待测试
  分享逻辑开发完成 —— 联调完成
- 时间进度：30%
- 研发进度：40%
- 整体风险评估：无风险
  @靳顺隆 @韩宇 @田有臻 @王亚男

开发时间共 11 天， 从开发到上线共 23 天，用了 6 天

**2019.3.12**
小程序优化影响范围：

1. 回复控件改成饿了吗控件
2. 音频拖拽不流畅和音频和视频之间互斥
3. 保存草稿

碰到的问题，当失去焦点，textarea 会闪一下之前的值，失去焦点会恢复之前的值，
应该失去焦点，把获取值也更新了，然后根据后台获取的值，继续更新。

没改的时候还会保存吗？

碰到不爽的事：
空出 1-2 天时间给产品验收。
提测前写上影响范围点；
每个端的提测清单给测试人员；

http://test1-3.igetcool.com/Active/homeCombination?h5Pid=274776648210878464

http://test1-3.igetcool.com/Active/homeCombination?h5Pid=305208713568198656

http://test1-3.igetcool.com/Active/homeCombination?groupSellPid=260242357277270016&t=24&activityPid=305208896989306880&h5Pid=305208713568198656

http://test1-3.igetcool.com/Active/homeCombination?groupSellPid=260242357277270016&t=24&activityPid=305208896989306880

todo:
如果是空的话，电话输入框提示什么？
需要知道新工具涉及到各端的一些逻辑？

// import {
// isNewAndroidApp,
// isNewIOSApp
// } from '../utils'
// export const navigateLogin = {
// methods: {
// checkLog (params, url, successCallback, failCallback) {
// let data = {
// params: [params],
// path: url,
// successFunction: successCallback,
// errorFunction: failCallback
// }
// let params = JSON.stringify(data)
// if (isNewAndroidApp) {
// DDAppWebView.doPost && DDAppWebView.doPost(params, '0')
// } else if (isNewIOSApp) {
// doPost && doPost(params, '0')
// }
// },
// navigateLogin () {
// if (isNewAndroidApp) {
// DDAppWebView.showToast && DDAppWebView.showToast(data.friendlyMsg)
// DDAppWebView.navigateTo && DDAppWebView.navigateTo('igetcool://juvenile.dedao.passport/passport/v2/login?params_type=20000&params_status=login_status', 'navigateToErr')
// } else if (isNewIOSApp) {
// showToast && showToast(data.friendlyMsg)
// navigateTo && navigateTo('igetcool://juvenile.dedao.passport/passport/v2/login?isLastPage=0', 'navigateToErr')
// }
// }
// }
// }

若行，现在能配置一个免费听的页面吗？我现在都是用组合购买测，但是放到手机上刷新不了页面

http://localhost:8080/Active/homeActivityWithPullNew?h5Pid=305208713568198656&activityPid=274776648210878464

**2019.3.13**
2019 年 3 月 13 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 工作进度：
  **前端：
  CMS 技术债 —— 已上线
  分享免费听 H5 活动页 —— 60%，联调中
  cms 分享免费听页面逻辑开发完成 —— 65%，联调中
  **后端：
  H5 端接口（免费领取详情、领取、分享记录、分享信息） —— 90%
  CMS 端添修删查列表和单个详情 —— 70%
  **ios：
  埋点开发完成 —— 待测试
  书房路由 —— 待测试
  分享逻辑开发完成 —— 联调完成
  **android：
  埋点开发完成 —— 待测试
  书房路由 —— 待测试
  分享逻辑开发完成 —— 联调完成
  \*\*测试：
  测试用例 —— 80%
- 时间进度：35%
- 研发进度：45%
- 整体风险评估：无风险
  @靳顺隆 @韩宇 @田有臻 @王亚男

1. 区分哪张图片可以进入记录页 type:4
2. 分享信息接口
3. userId 获取
4. dataForApp
5. userId 编码
6. 领取状态的设置

登录之后，返回到 H5 页面不会再次请求。
安卓登录后，返回 H5 不会请求页面

因为返回获取不到 userid，再进去会出错，所以用点击触发的动作。

进入页面也得检查是否登录了，因为
当前时间在变化，此处又在减，这样不仅仅减少 1
alert 回去，就得不到 userId，因为没有触发。
第一次就可以获取剩下的时间

waiter
起始时间和当前时间比较，
除了倒计时，还得判断是否登录，需要刷新下页面。

2019 年 3 月 15 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：开发阶段
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 工作进度：
  **前端：
  分享免费听 H5 活动页 —— 90%
  分享免费听 cms 页面 —— 80%
  **后端：
  H5 端接口（免费领取详情、领取、分享记录、分享信息） —— 95%
  CMS 端添修删查列表和单个详情 —— 90%
  **ios：
  埋点开发完成 —— 待测试
  书房路由 —— 待测试
  分享逻辑开发完成 —— 联调完成
  **android：
  埋点开发完成 —— 待测试
  书房路由 —— 待测试
  分享逻辑开发完成 —— 联调完成
  \*\*测试：
  测试用例 —— 80%
- 时间进度：41%
- 研发进度：55%
- 整体风险评估：无风险
  @靳顺隆 @韩宇 @田有臻 @王亚男

总共天数：3.4-3.28 11 17/24
9/24

1. 时间倒计时 span 距离 完
2. 白色透明度 完
3. 输入框默认文案消失 完
4. 输入框失焦卡顿 完
5. token 透明度颜色 0.9 完
6. 关闭差需要偏上点，按钮高点，按钮不居中 完
7. 打开领取成功图片会闪一下 ---我没发现 完
8. 时间文字宽度尽量不随时间变动 完
9. 手机号、app、时间 后端 完
10. 领取成功页上面所有的字加粗 完
11. 尽量让表格中间字放在一行
12. 领取成功页，按钮离底部更多 完
13. 按钮文字不居中，按钮有点虚化 完


          // let shareInformation = {
          //   shareTitle: '测试标题',
          //   shareCover: 'https://coolcdn.igetcool.com/p/combination/strip/20190304/1551689366000.jpg',
          //   shareIntro: '分享内容介绍',
          //   shareUrl: 'https://igetcool-share.igetcool.com/Active/homeCombination?groupSellPid=306645051084763136&t=28&activityPid=306665752239788032&userid=hhy'
          // }

阿雪，feature-h5-v1.4.7 是现在的最新代码，埋点周一一天来得及吗？或者可以先提测再埋点吗？

**2019.3.17**
自测的 bug：

1. 表格显示
2. 为什么第一次键盘弹不出来
3. 样式跟设计核对
4. 输入框默认字没有居中
5. 领取状态的再次确认
6. 登录完，返回按钮刷新页面
7. 登出点击按钮，还进入记录页面

领取成功和领取状态，一个在 app 中，一个在微信中
领取状态是点击按钮时判断，领取成功在 app 中打开页面请求就能知道
getSeveralStatus 应该在检查登录成功之后获取

- 授权
- 点击按钮：老版本需要进入升级
- 电话号码：只允许输入 11 位数字
- 新用户参与 2 个不同活动：输入相同的手机号都可以领取
- 0 元免费领取后端配置

**2019.3.19**
如果没有布满整个屏幕，需要计算

分享记录页：2 行
长宽比例一样
按钮变大
输入框调起只有数字的键盘
蒙层在最外面

进度条闪动，是因为倒计时的原因

isReceiveFail 因为返回值不是 10000，并且 status 是 3

碰到的问题：软键盘下滑下来，H5 页面没有自动滑下来

@selectstart.prevent.self

如果登录并且领取成功，是不出现下面。如果没有登录，并且活动未结束，显示它

滑动不流畅
调用几次分享接口（限制在 1s 之内）
app 中上面需要下滑 解决
下面按钮会闪一下结果
2 遍是因为执行了 2 遍请求

购买之后，会自动变成已够买
如果是游客模式，点击一件购买是要求去充值
如果买了，登录之后返回变成已购买

因为没有刷新，所以 userid 不能传给后台，获取不到是否成功购买的信息。

判断刷新还是登录，
doLogin 仅仅是刷新和登录成功的时候调用，刷新的时候不调用 doGet，
写在上面的目的是为了从 H5 页面返回能够执行
doLogin:判断是刷新 还是登录
如果刷新，不执行 created，但是第一次都不执行 ，很奇怪

ios 第一次打开调用 doLogin，又要把 doLogin
doLogin
返回不能调用 doLogin，要获取 id，只能用 doGet
doLogin 里能有个条件，需要加一个条件判断
如果把 doLogin 放在全局，又要兼容 H5 返回调用 doGet，需要一个条件判断是从哪里来的
用 doLogin 来实现，
如果返回需要一个判读
调用 doLogin 的方式能够刷新页面，但是二级 H5 页面返回是不调用 doLogin，所以需要加调价刷新页面，这样同时在 2 处加刷新动作，会引起进入页面刷新 2 次，所以需要一个条件判断是 H5 返回的还是从 banner 中进去的。

调用原生的不会刷新页面，也不执行 doLogin

刷新一下，就恢复到原来的位置，
因为刷新会干掉，再进入肯定要升级，所以不会出现点不进去的情况。

因为返回获取不到 userid，就去调用登录状态，但是又不能触发 doGet，所以报错，所以调不起来，除非加上 doLogin，但是还是有一些问题

从 banner 中进入、刷新、登录成功之后返回都会调用 doLogin（我可以在 doLogin 里写刷新页面），但是二级 H5 页面返回不会调用 doLgoin，会调用 doGet(可以在 doGet 里写刷新页面)，因为从 banner 中进入既会执行 doLogin 又会执行 doGet，从而导致会执行 2 遍刷新（因为我没法判断从哪里进来的）。因此，我需要一个条件判断从哪里进到免费听 H5 页面中。

**2019.3.25**
添加定位逻辑
把位置保存下来，返回直接滚动到对应的位置

如果不设定高度，则需要把里面的东西加长

不同的设备设置不同的高度
pattern="\d\*"

position:fixed 在 ipad 中的光标

2019 年 3 月 25 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：测试阶段
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 测试进度：第二轮测试完成 90%
- bug 状况：bug 总数 73 个，已解决 65 个，待解决 6 个，延期解决 2 个
  ** IOS：9 个，已解决 7 个，待解决 1 个，延期解决 1 个
  【IOS】没登录的时候，点击活动页图片，路由到课程列表，页面卡住
  ** android：9 个，已解决 7 个，待解决 1 个，延期解决 1 个
  【安卓】分享免费听涉及埋点没入库
  ** 服务端：14 个，已解决
  ** 前端：前端 41 个，已解决 37 个，待解决 4 个
  【前端】微信进入活动页，没有播放，播放按钮默认播放状态
  【前端】输入手机号领取，跳转至应用市场
  【前端】滑动页面时，顶部模块和底部模块消失，停止滑动后出现
  【前端】多台设备倒计时时间不同步
- 时间进度：80%
- 研发进度：80%
- 整体风险评估：无风险
  @靳顺隆 @韩宇 @田有臻 @王亚男

pattern="\d\*"

如果登录成功的话，获取 id

因为时间一变化，就执行 update 函数

网页端的用什么方式来跟踪？

2019 年 3 月 28 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：已上线
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 测试进度：前后端上线，线上回归完成
- bug 状况：bug 总数 89 个，已解决 80 个，待解决 1 个，延期解决 8 个
  ** IOS：已解决 7 个，延期解决 2 个
  ** android：已解决 10 个，待解决 1 个，延期解决 2 个
  ** 服务端：14 个，已解决
  ** 前端：已解决 48 个，延期解决 4 个
  待解决：
  【安卓】老题型，提交答案，弹答案的提示，时间刚好结束，弹出很遗憾，答题时间结束
  延期解决：
  【IOS】播放小王子，锁屏，点击暂停，再播放，偶尔会出现从 0 开始播放
  【IOS】没登录的时候，点击活动页图片，路由到课程列表，页面卡住
  【安卓】断网切换音频播放，通知栏是播放状态
  【安卓】H5 页点击音频进入播放器播放，在 H5 页面连续点击暂停播放，音频进度回到起始的位置
  【前端】qq 二次分享，分享信息错误
  【前端】领取成功页进去后，底部会有 2 厘米上一页图片展示
  【前端】点击输入框，输入框和键盘之间有 5 厘米图片间隔
  【前端】从领取成功页回到待领取页。之前的播放进度还在，播放按钮回到原点
- 时间进度：82%
- 研发进度：99%
- 整体风险评估：无风险
  @靳顺隆 @韩宇 @田有臻 @王亚男

点击哪个选中哪个

**2019.3.29**
选中框思路：因为第一次选中，没有 // 只有第一次进来执行
isSelectedColor(color) {
if (this.topicDetail) {
return this.topicDetail.answerColor === color;
} else {
return this.answerColor === color;
}
},

2019 年 3 月 29 日跟踪情况：

- 项目名称：H5 分享免费听
- 项目版本号：H5 V1.4.7
- 当前阶段：前后端上线，客户端待上线
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 测试进度：线上回归完成
- 时间进度：86%
- 研发进度：95%
- 风险评估：无
- 功能介绍：在之前 H5 活动页的基础上主要添加以下功能（详细细节产品会同步）：
  1. 免费领取的书可以通过 H5 活动页分享到微信
  2. 在微信中打开 H5 活动页输入电话号码领取（领取中，会根据活动是否开始、是否结束、是否领取过、是否注册过做相应提示）
  3. 领取成功后在活动时间内，用领取号码注册 app 可以获得对应书；同时，领取人达到在 CMS 中设置的领取人数阈值，也可以获得对应书
  4. 在 H5 活动页中点击图片可以看到分享后的领取记录（包括好友电话号码、领取进度、领取时间）
  5. 新人注册 app 在活动时间内可以再次分享
  6. 在 App 中的 H5 活动页底部文案和功能，随活动是否开始、是否结束、是否登录、是否领取成功有相应变化
     @靳顺隆 @韩宇 @田有臻 @王亚男

2019 年 3 月 29 日跟踪情况：

- 项目版本号：H5 V1.4.7
- 当前阶段：已上线
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 测试进度：前后端上线，线上回归完成
- bug 状况：bug 总数 89 个，已解决 80 个，待解决 1 个，延期解决 8 个
  ** IOS：已解决 7 个，延期解决 2 个
  ** android：已解决 10 个，待解决 1 个，延期解决 2 个
  ** 服务端：14 个，已解决
  ** 前端：已解决 48 个，延期解决 4 个
  待解决：
  【安卓】老题型，提交答案，弹答案的提示，时间刚好结束，弹出很遗憾，答题时间结束
  延期解决：
  【IOS】播放小王子，锁屏，点击暂停，再播放，偶尔会出现从 0 开始播放
  【IOS】没登录的时候，点击活动页图片，路由到课程列表，页面卡住
  【安卓】断网切换音频播放，通知栏是播放状态
  【安卓】H5 页点击音频进入播放器播放，在 H5 页面连续点击暂停播放，音频进度回到起始的位置
  【前端】qq 二次分享，分享信息错误
  【前端】领取成功页进去后，底部会有 2 厘米上一页图片展示
  【前端】点击输入框，输入框和键盘之间有 5 厘米图片间隔
  【前端】从领取成功页回到待领取页。之前的播放进度还在，播放按钮回到原点
- 时间进度：86%
- 研发进度：95%
- 整体风险评估：无风险

https://www.cnblogs.com/chris-oil/p/5001748.html

2019 年 4 月 1 日跟踪情况：

- 项目名称：H5 分享免费听
- 项目版本号：H5 V1.4.7
- 当前阶段：已上线
- 里程碑时间：
  达到提测状态时间：3 月 18 日晚上
  整体测试时间: 3 月 19 号-3 月 28 日;
  前后端上线时间：3 月 28 号晚上；
  内测时间：3 月 29 号；
  客户端提审上线时间：4 月 1 号;
  客户端灰度时间：4 月 2 号；
  客户端上线时间：4 月 3 号;
- 进度：客户端提审上线
- bug 状况：bug 总数 89 个，已解决 80 个，延期解决 13 个

  延期解决（包含兼容性问题、功能性、优化）：
  【前端-兼容性】某一设备 qq 二次分享，分享信息错误
  【前端-兼容性】某一设备从领取成功页回到待领取页。之前的播放进度还在，播放按钮回到原点
  【前端-功能性】返回保留原来位置定位功能（需要客户端配合）
  【前端-优化】埋点（需要产品确定好以后方案，现在临时是 ip）
  【前端-优化】代码逻辑优化（需要客户端配合）
  【安卓-优化】断网切换音频播放，通知栏是播放状态
  【安卓-优化】H5 页点击音频进入播放器播放，在 H5 页面连续点击暂停播放，音频进度回到起始的位置
  【安卓-优化】老题型，提交答案，弹答案的提示，时间刚好结束，弹出很遗憾，答题时间结束
  【安卓-功能性】网络状态监测
  【IOS-优化】播放小王子，锁屏，点击暂停，再播放，偶尔会出现从 0 开始播放
  【IOS-优化】没登录的时候，点击活动页图片，路由到课程列表，页面卡住
  【IOS-优化】分享弹框多次出现
  【IOS-功能性】网络状态监测

- 非 APP 中打开的 H5 兼容性问题及解决方案：
  1）ios11.2.5 和 ios11.1.2 系统点击 input 弹出软键盘，会出现穿透问题
  2）ios 使用第三方输入法挡住输入框
  3）iPhone X 的输入框失焦，会卡主页面
  4）iphone6s qq 中点击输入框，输入框和键盘之间有 5 厘米图片间隔
  为同时解决以上问题，跟产品商量只针对 ios 修改样式方案，明天开始测试，4 月 3 日上线。

- 时间进度：93%
- 研发进度：97%
- 整体风险评估：无风险
  @靳顺隆 @韩宇 @田有臻 @王亚男

总共天数：3.4-4.3 27/29

H51.4.7 主要测试点：

1. 键盘弹起、领取情况
2. 分享记录页分享出去的逻辑
3. app 内按钮显示状况（担心不小心改了一个逻辑）
4. ios 低版本刷新之后的情况

bug 列表:
1.android 手机打开二次分享 h5 页面有误.
2.android 手机打开 h5 投票页提示获取 token 错误.
3.android 手机打 h5 分享页展示空白. 4.小程序作业内容页，别人作业修改了头像和昵称，未更新数据.

什么时候判断获取 code，code 通过什么形式传过来的

code 什么时候会被使用？
使用 code 换取 access_token 应该是后台去请求
appsecret 是哪里获取？

抢读的流程

打开页面，自动请求授权，再点击登录（请求登录即可跳转到刚刚配置的回调页面）

OKR 包括：

1. 梦想型的目标——不是简单能达到的目标
2. 可执行可量化的行为——不是糊弄人的计划
3. 360 度的评价机制——可以容错，快速改正

激励一定和这件事情有关：

1. 我发现了用户需求，并提出这样的建议，被采用了
2. 我找到了一种运营模式，可以接触到新用户
3. 我发现竞品有关地方值得我们学习，我们可以试试

找到团队驱动的某些点
语文课直播课：今日头条的运营强，内容不行
找到自己驱动的事情
训练营是产品驱动

OKR 目标与关键结果管理
对等产品

一次的受挫让我更加坚定能力的重要性，现在是一个激励点，谁也别看不起

nvm install 11.13.0
sudo npm install karma --save-dev
npm install -g karma-cli
karma init karma.conf.js

图标和名称都是后台配置
默认排序是权重排序
配三张图
大于三天小于四天。什么时候预约什么时候展示。

你们有私有 npm 仓库（只有内网才能访问，可以避免组件中业务的泄露）吗？
verdaccio 还是 Sinopia（其他的）

这样会发布到一个服务器上
代码是传到 gitlab 上吧
在哪里可以看到 npm 库？

需要创建一个上传的文件夹（仓库）吗？（文件夹名是什么？）
由于考虑到时常会切换仓库来源,我是用了 nrm ,一个仓库管理器,实际上就是 简化以下命令：npm set registry [url]
为什么要本地切换仓库呢？不是固定一个服务器链接吗？

## 当前 npm 服务指向 本地

npm set registry http://localhost:4873

域名备案有没有统计？
私有软件包需要加个命名

verdaccio --listen 4000 --config ./config.yaml # 指定配置启动
添加用户/登录
npm adduser --registry http://localhost:4873
上传私有包
npm publish --registry http://localhost:4873

# 所有包的缓存目录

storage: ./storage

# 插件目录

plugins: ./plugins

Git 仓库当私有 npm？意思是用 git 仓库来作为 npm 私有仓库吗？

npm init --scope=companyfe 得到 "name": "@companyfe/项目名称",
如果创库私有 npm 库，name 字段必须限定范围，一般为 GitLab group 的名字, 例如 @companyfe, 那么 name 为: @companyfe/项目名称。

npm 私有仓库 verdaccio 在 docker 环境下的配置

教务管理

app 能卖语文课，还有老带新，新人买了之后可以优惠，分享出去的页面需要我们开发，分享出去的页面需要 userId，订单列表和订单详情
