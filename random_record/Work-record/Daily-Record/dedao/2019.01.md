**2018.1.2**
爱情宣言
todo:

- 研究一个算法
- 继续工作
- 记住得到中的话
- 总结要做的事情
- 尝试防抖和节流方法（实例）
- 作用域要学习
- 对每个知识点去仔细研究
- 哪里不懂的要尽快调研

一个字包含 2 个字

1、用正则表达式判断
function CheckIsChinese(obj,val){
var reg = new RegExp("[\\u4E00-\\u9FFF]+","g");
if(reg.test(val)){alert("包含汉字！"); }
}
2、用 Unicode 字符范围判断
function chkstrlen(str){
var strlen = 0;
for(var i = 0;i < str.length; i++){
if(str.charCodeAt(i) > 255) //如果是汉字，则字符串长度加 2
strlen += 2;
else
strlen++;
}
return strlen;
}

0xFF 255 2 个字节
0xFFFF 65535 4 个字节

function is32Bit(c) {
return '𠮷'.charCodeAt(0) > 0xFFFF;
}

'𠮷'.charCodeAt(0) //55362
'𠮷'.codePointAt(0) //134071
'𠮷'.length //2
'你'.charCodeAt(0) //20320
'你'.codePointAt(0) //20320
'你'.length //1
'你好'.length //2

// {
// "workPid": "123456",
// "coursePid": "123456",
// "chapterPid": "123456",
// "title": "标题",
// "lastTime": "1540197325541",
// "createTime": "1540197325541",
// "issue": 0,
// "homeWorks": [
// {
// "type": "1",
// "content": "1 这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容这是内容"
// }
// ]
// }

谢谢大家的到来参加我跟高浩的婚礼，大家吃好喝好，有什么需要尽管说。在新的一年祝大家新年快乐，各位身体健康。
跟高浩相知、相恋直到相守，这一路谢谢亲人们的帮助，
我跟大家介绍一下，我爸有 1 个姐姐、一个哥哥和一个弟弟，这是我大伯、叔叔、姑姑。我从小往下介绍啊。
北京的亲戚也是我最亲的人，他们是我的证婚人。我先介绍一次，等下吃饭的时候相互认识。
借此机会，把大家聚在一起，相互认识。我们跌跌撞撞走到现在。

2 天总结出一个 blog 吧，无论如何都得写。找出字帖。
blog2 天结，运动日日持
规律生活过，成果自然成
——小目标中寻找小趋势。

碰到的问题：

1. 因为使用的是上一次处理过的 answer，没有请求新的数据

http://localhost:8888/api/miniprogram/findCommentByClassId.json?courseId=272134537325391872&chapterId=274995520708976640&scheduleId=274995564149383168 （测试数据）
document.getElementsByName('commentItem'); //得到 NodeList[]

answers 包含列表，传递过去有三个，也就是最后面一个 push，叠加了。
应该是所有列表吧，然后点击左边，出来右边。
把一个数组里面的值 push 出来，需要循环，直接 push，就是数组包含数组。
不管怎么样得把所有 homeworks 中的值都提取出来，当滚动的时候，找到

左边一个 id 对应右边几个答题，

我最想要的肯定是这一个列包含所有信息并且能区分是第一个。如果不能的话，我重新组合成这样的数据结构。或者后台不给我区分第一个，我把第一个和第二个做比较，也就是在第一个对象中加入字段。
id 是唯一的，找出对应 chapter 的第一个 id，这样有什么意义呢？

```
let obj=[{chapterId:'11',name:'张一'},{chapterId:'11',name:'张二'},{chapterId:'11',name:'张三'},{chapterId:'12',name:'李一'},{chapterId:'12',name:'李二'},{chapterId:'13',name:'王一'},{chapterId:'13',name:'王二'}];
let newObj=[];
for(let i=1,len=obj.length;i<len-2;i++){
    if(obj.length<2){
    return;
    }
    if(obj[obj.length-2].chapterId===obj[obj.length-1].chapterId){
    obj[obj.length-2].isFirst = true;
    }
    if(obj[i-1].chapterId===obj[i].chapterId && obj[i].chapterId!==obj[i+1].chapterId){
    obj[i-1].isFirst = true;
    console.log(i-1);
    continue;
    }
    // if(i===0){   && obj[i+1] && obj[i].chapterId!==obj[i+1].chapterId
    //   if(obj[i].chapterId===obj[i+1].chapterId){
    //     obj[i].isFirst = true;
    //   }
    // }else if(i===obj.length-1){
    //   if(obj[i].chapterId===obj[i-1].chapterId && obj[i].chapterId!==obj[i+1].chapterId){
    //     obj[i-1].isFirst = true;
    //     continue;
    //   }
    // }else{
    //   if(obj[i].chapterId===obj[i-1].chapterId && obj[i].chapterId!==obj[i+1].chapterId){
    //     obj[i-1].isFirst = true;
    //     continue;
    //   }
    // }

}
```

提测清单、上线清单、上线回滚策略
提测清单、上线清单、上线回归策略，这三个内容，大家来完善下吧，我看后端已经有了上线清单的模板，这三个东西需要一个弄出个模板，每次提测和上线，都需要按照这次上线的内容进行填写的，每次都要附到上线流程 Task 上。

http://wiki.luojilab.com/pages/viewpage.action?pageId=10073984

提测清单：
上线清单：
上线回归策略：

提测清单：项目名称（版本和提测模块名称）、部署的时间、修复的 bug、测试地址、提测版本、项目背景、需求文档、测试评审文件、测试负责人、测试时间、开发人员（提测人）、功能点、交互点、设备兼容不同点、版本迭代不同点、（增加内容、修改内容、减少内容、修复 bug）、影响范围（若因变更影响范围未写明而出现的线上 bug，记录到开发人员的 kpi）、测试设备、异常状态下是否考虑、网速低的情况下、域名是否正确、边界/异常参数的确认和验证、是否完成自测和联调、配置文件是否变更、建议测试方式。环境变量和配置文件

第一个在 tb 上显示，也可以发邮件给对应的测试人员，wiki 上建立。

上线清单：需求文档、上线的内容，包含上线负责人、开发人、上线文件、影响的文件、配置文件、分支版本号、上线时间、周知线上测试时间、测试所用时间

通过根据一定的规则或者方式，区分不同的用户访问，可以根据地理位置、用户 ID 等各维度，确定用户访问哪个版本的服务。

上线回归策略：确定回归范围
**基本策略**
再测试全部用例
再测试修改的部分
基于风险选择测试：首先运行最重要的、关键的和可疑的测试，而跳过那些非关键的、优先级别低的或者高稳定的测试用例
优先针对最重要或最频繁使用功能的测试用例
分析修改的影响，尽量考虑受影响的地方
在测试过程中，不断改进测试用例库
编写和调试自动测试脚本
**前端要点**
页面样式、重点交互点、低版本、设备不同点。

测试用例库。

临时更改清单：
常用问题清单：
未实现的需求清单：
测试人员自查清单： https://www.jianshu.com/p/510ff5bbb632
项目验收清单：
上线自查清单：
测试报告模板：https://blog.csdn.net/kaka1121/article/details/79300315

bug 级别、开发环境部署通过（移动端）
变更 SQL：写 sql 地址（如果有）或脚本内容（如果没有 sql 统一管理地址，则写 sql 内容）
开发环境是否已执行：是（强制要求）

回滚策略：
目的：当发现上线出问题的时候，快速的恢复系统，以期降低损失。

缺点：

1. 业务数据已经产生，这时候回滚问题可能会更复杂
2. 遇到问题直接回滚，会打击整个项目组的自信心，会滋长业务部门遇到问题不解决直接要求回滚的盲目心理。
3. 可能因为上线，

在紧急情况下，不能及时定位到问题，符合以下原则可以考虑回滚。

原则：

- 首先查看要回滚的目标版本，要清楚目标版本的前端状态
- 准备回滚前，立刻周知大家，以防有不能回滚的风险
- 回滚后，立刻周知大家，检查线上情况
- 如果移动端发版：前端代码受移动端版本影响，不能回滚
- 如果移动端和后端都没有发版，仅仅前端发版：明确回滚的目标版本能正常使用，可以考虑回滚到此版本
- 如果移动端未发版，前端和后端发版：如果前端受后端代码影响，前端得经过后端同意才能回滚；如果不受影响，前端可以回滚

方法：
git log
git reset --hard 版本
git push -f origin master

在明确能正常使用的情况下，可以考虑回滚到此版本
获得 git 里的历史正确版本

记录每个版本的正确状态（功能点）

灰度发布后，立刻回滚

观察新版本的各种指标、日志和业务情况，来验证新版本的程序是否能正常工作。

必填、一目了然表
下面是具体清单

这里包含 3 个清单，各位大牛，大家集思广益，check 下哪里有需要更改或者补充的地方，谢谢。

```
/**
* 思路：分别遍历，如果第一个和其他有一样的，一样的就不再遍历，push到另一个数组中，查找id是否包含在新数组中，如果有，就加上false字段。跳出此循环，i++。
* 在arr中查找newArr中包含的id，再变成
*/
let arr = [{chapterId:'11',name:'张一',id:'1'},{chapterId:'11',name:'张二',id:'2'},{chapterId:'11',name:'张三',id:'3'},{chapterId:'12',name:'李一',id:'4'},{chapterId:'12',name:'李二',id:'5'},{chapterId:'13',name:'王一',id:'6'},{chapterId:'13',name:'王二',id:'7'},{chapterId:'13',name:'王三',id:'8'}];
let newObj ={};
let length = arr.length;
for(let i=0;i<length;i++){
    if(!newObj[arr[i].chapterId]){
    newObj[arr[i].chapterId] = true;
    arr[i].isFirst = true;
    }else{
    arr[i].isFirst = false;
    }
}
console.log(arr);
```

// spans[j].style.color = '#c4c8cc'; //black

let commentItemId = document.querySelector('[data-anchor-id=commentItem'+id+']'); 属性相同情况下，有多个属性，在 chrome 浏览器下只输出第一个。

// let aa = [{'a':1},2,3];
// let bb = [3,4,{'b':1}]
// console.log(aa.concat(bb));

```
let spans = this.getSpans();
for(let j=0;j<spans.length;j++){
    if(id == j+1){
    spans[j].classList.add("current");
    this.$set(this.isActive,(j+1),true);
    }else{
    spans[j].classList.remove("current");
    this.$set(this.isActive,j+1,false);
    }
}
```

联调 cms 获取和修改用户相关信息接口、回复接口、跟李涛确定回复列表数据结构。

回滚策略里面是不是应该分为多种情况？ 回滚 紧急上线 延迟发版呢。 然后再就这三项书写：实施这三种情况的前提，实施这三种情况的步骤，完成后的同步等。

延迟发版

http://wiki.luojilab.com/pages/viewpage.action?pageId=29595719 （上线清单）
http://wiki.luojilab.com/pages/viewpage.action?pageId=29595705 （提测清单）
http://wiki.luojilab.com/pages/viewpage.action?pageId=29595960 （回滚策略）
以上是前端一些清单，欢迎大家多多提出修改意见。

**2018.1.11**

右边滚动，左边也需要滚动到可视范围。
当到哪个位置开始移动一个距离，一直移动到最上面。
考虑到当左边数少的情况下，
当右边滚动的时候，左边也得往上滚动。
调研滚动的方法：

- scrollBy
- scrollToView
- scrolTo
  按照左右 id 对应，当右边的即将滚出可视区，也就是变亮的地方还需要多加一个滚动逻辑。（滚动元素是设置了 scroll 的元素，）

总结知识点：换个思维来干一件事情。

**2018.1.14**
思路：获取正在滚动到哪个位置，总高度（滚动距离），右边滚动到可视区的元素，找到左边的元素，判断是否在可视区，如果在可视区就变亮，如果不在可视区并且在可视区上面，向下滚动；如果再可视区并且在可视区上面，向下滚动。

换另一种方法来获取滚动值。

let processItems = document.getElementsByClassName('process-item');  
console.log(processItems[2].offsetTop); //固定值，因为相对于父元素的值一直不变
console.log(processItems[2].scrollTop); //0，因为是它本身不会滚动
// this.processList.scrollTop = '700';

上线清单：
上线原因
上线分类：紧急上线、技术债、版本
环境不决定人的命运。

如果大于 750，让他们自动滚动到可视区范围内。

http://wiki.luojilab.com/pages/viewpage.action?pageId=17454805
后端提测、上线、回滚的流程清单已与测试沟通讨论完，后续就按照这个流程推进，大家有建议我们再优化

https://www.getpostman.com/

https://www.cnblogs.com/shuai7boy/p/9217317.html

http://localhost:8888/courseMakeClass/workAndAnswerDetail?courseId=272134537325391872&chapterId=274739380242747392&scheduleId=274739455056547840

```
    let params = {
    scheduleWorkId: 289542233970425856,
    type: 1,
    }
    return axios({
    method: 'post',
    url: 'http://test1-2.igetcool.com/miniprogram/doBuildQRCodeByScheduleWorkId.json',
    data: params,
    responseType: 'blob',
    }).then(res => {
    return res.data
    }).then(res => {
    let objectURL = URL.createObjectURL(res)
    let img = document.createElement('img')
    img.src = objectURL
    document.querySelector('#testImg').appendChild(img)
    })


    // this.transpondQRCode = window.URL.createObjectURL(res);  decodeURI
    // this.transpondQRCode = 'data:image/jpeg;base64,' + res;
```

先把每个元素提取出来，循环 push 到一个数组中，
如果有子就放在它下面。parentPid 相同就在同级。
父下面应该是只有一个点评吧，为什么会有多个，回复下面会有多个（根据 parentId 来叠加)，显示顺序是按照给我的顺序显示。

http://localhost:8888/courseMakeClass/workAndAnswerDetail?courseId=267791851390181376&chapterId=273887296987283456&scheduleId=273940744030081024

let params = {
homeWorkId:this.oneCommentInfo.homeWorkId || '',
moduleId:this.$route.query.courseId,
    chapterId:this.$route.query.chapterId,
rootId:answer.id,
scheduleWorkId:answer.workPid,
cmsUserId:cmsUserPid,
userId:answer.userPid,
classId:answer.classPid,
markNum:markNum,
commentBody:[
{
"type": "1",
"content": value
}
]
}

    chapterId是小节id，从哪里进来的，比较对应哪个，就亮哪个。
    发现的问题：在历史作业列表点评，发现不会覆盖点评，而是在上面新加一个值

    3个色，如果激活是一个色，如果发布了才能激活
    如果没有答题，仅仅有题目，下面是不会显示的，不会显示证明homework为空。为空但是数组的个数是一样的，
    还是需要用chapterId来定位，为每个作业添加chapterId，如果不添加，id是定位不了的

    没完成的地方：
    1. 统计
    2. chapterId抽出来  （完）
    3. 代码优化（公共接口抽离出来）
    4. 收起评论和展开评论话术（完）
    5. finishFlag什么时候为false （当没有提交作业，就是false，也就是homeworks数组为空）
    6. 提交截止时间的默认值 （完）
    7. 评论好像有时候会叠加(查看不是后台返回的原因，是代码变化更新的原因，我猜是computed中的原因)
    8. 分页
    9. 历史记录提交次数和学员名，假如没有提交次数
    10.导出明细
    11.历史记录排序顺序？默认到最新提交的
    12.图片提醒？(完)

    获得active对象，然后找到那个元素id，再跟acitve比较

    碰到的现象，最后一个先滚动，再出发变亮

    http://localhost:8888/courseMakeClass/workAndAnswerDetail?courseId=272134537325391872&chapterId=274995520708976640&scheduleId=274995564149383168&classId=273953183085858816

    http://localhost:8888/courseMakeClass/allWorkForOneStudent?courseId=272134537325391872&chapterId=277158502872596480&userId=289592166110687232

    好像有点问题，这是为什么？

    先输入点评，再输入评分。当先输入值，获取值，然后再输入

    http://localhost:8888/courseMakeClass/allWorkForOneStudent?courseId=272134537325391872&chapterId=274739380242747392&userId=289592166110687232

    可以判断document.referrer。如果判断这个 url 的来路有问题，则屏蔽该 url 下的所有信息，比如不让其显示图片等，可以有效的防止盗链，目前百度统计，google ads统计，CNZZ统计，都是用的这个方法。


    回复是往上叠，只有点评是第一个。
    回复时间是往上叠的啊，为什么这个不是？
    2019-01-21 16:22:28'.replace('/:\d\d$/,'00')
    时间展示到秒。
    老师没有头像。老师不能回复自己
    最后一条，只要是老师回复学生的就可以回复。
    老师不能随便插，只能回最后一条，如果是老师也不能让他回，回复按钮

    最新提交到时间（右侧也是按照顺序吗？）

    http://localhost:8888/courseMakeClass/allWorkForOneStudent?courseId=272134537325391872&chapterId=274739380242747392&userId=289592166110687232

    往下滚动：判断最后一个离上面的距离，超过多少就设置多少。明天考虑


    http://localhost:8888/courseMakeClass/workAndAnswerDetail?courseId=272134537325391872&chapterId=277158502872596480&scheduleId=277158775020011520&classId=273953183085858816  （小狗好多回复，并且回复有问题）

    上线清单：
    1.增加的文件：

igetcool-cms-new/src/views/workManage 2.
影响范围：

1.  cms
    增加路劲：权限管理/课程/班主任上课
    /courseMakeClass/workAndAnswerDetail 学生作业列表和答题情况列表
    /courseMakeClass/allWorkForOneStudent 一位学生全部作业记录列表
    /courseMakeClass/workStatistic 作业统计页
    courseCourseList/workManage 作业物料页面

账号管理/账号修改
igetcool-cms-new/src/views/account/accountUpdate.vue

影响的文件：
igetcool-cms-new/src/views/course/liveSectionList.vue 添加作业入口

着重测试点：
注意点评顺序，
全部历史作业列表： 1.左右联动是否正确 2.从统计或者作业查看页中点击进来的数据是否正确 3.点赞数前后台是否对应 4.提交次数是否正确

作业管理页: 1.可以成功创建一个作业 2.已经有作业的前提下点击创建作业有对应的提示 （包括编辑、删除、添加作业）

作业查看页：

- 作业情况： 1.操作按钮功能和提示（预览、修改截止时间、统计、转发、发布） 2.未发布，截止时间默认是空 3.发布，需要设置截止时间，不能小于当前时间 4.修改截止时间，不受限制

- 统计： 1.概况（看显示数据是否正确） 2.明细（看显示数据是否正确，点击头像和昵称能正常进入"全部作业页"） 3.导出明细(如果明细中没有数据，没有此按钮)

- 答题列表 1.昵称搜索 2.筛选（默认排序、点赞排序、时间排序、评分排序、未评分排序）【“搜索学员”和“默认排序”可以复合筛选】 3.已提交学员总数：当前班级，已提交作业学员的总人数，同一个人算 1 个 ，与前端已提交作业数同步 4.分页（一页显示 10 条）

全部作业页: 1.左右是否会联动 2.累计提交次数 3.左侧没提交的作业不可以点击

    作业查看页 和 全部作业页公共测试点：

1.答题评分数和打开点评对话框的点评数是否对应 2.没有点评过，评论数肯定是 0 3.不同筛选条件，得到的列表是否正确 4.音频和视频（拖动、下载、暂停、播放、进度拖拽、是否会出现多个音频或者视频同时播放） 5.从统计页面和作业查看页进入全部历史作业列表是否正确 6.精选和取消精选 7.收起评论和展开评论（评论数） 8.点评、修改点评、回复（评论时间、内容、点评数） 9.删除点评、回复、答题 10.图片的缩放、旋转、下载 11.每个学员已完成作业数

昵称修改：
cms 导航：账号管理/账号修改 1.输入框显示默认用户名 2.提交 3.用户名和右上角昵称同步

**2018.1.24**
CDN 购买
表格和文档结合（主要以表格为主）
第一部分：文档链接
第二部分：负责人相关
第三部分：清单（每部分的关键部分），分支
第四部分：影响范围
第五部分：着重测试点
Code Review 的顺序：把代码传上去
Code Review 时间，这样穿插在上线里面。
有影响的范围？域名影响？
上线总结？

提测流程：
基础检查：
是否合并到

分支合并
代码是否上传完毕（服务器部署）
是否完成自测
TB 状态 变更 TB 状态
周知测试

每次部署上去的过程

gitlab 怎么在哪里
技术债放在缺陷。需求再拉一个需求

http://test2-2.igetcool.com/courseMakeClass/workAndAnswerDetail?courseId=273917388782497792&chapterId=273951654887235584&scheduleId=273987077785206784&classId=273949229908434944

http://test2-2.igetcool.com/courseCourseList/liveSectionList?coursePid=273917388782497792&courseType=1

http://test2-2.igetcool.com/courseCourseList/workManage?coursePid=273917388782497792&chapterPid=273951654887235584 (第三章作业测试三)

1. git branch --set-upstream-to=origin/remote_branch your_branch
2. git pull 就能成功

release-1.4.3.0 是最终提交到 master 下面的。
先在

答题和小程序都弄到 dev

碰到的问题：
display: flex; 浏览器会自动设置 display: -webkit-box;display: -ms-flexbox;
但是仅仅设置 display: -webkit-box;不会干扰左边的距离
display: -webkit-box;
display: -ms-flexbox;
/_ display: flex; _/
默认聚焦到第一个输入框

Bridge.\$on('showRecorder' ,(data) => {
this.isShow = true;
});
export const formatDuration = duration => {
duration = Math.round(duration);
let minutes = parseInt(duration / 60);
let seconds = parseInt(duration % 60);
minutes = minutes < 10 ? '0' + minutes : minutes;
seconds = seconds < 10 ? '0' + seconds : seconds;

    return minutes + ':' + seconds;

};

**2019.1.28**
代码规范？
调研录音功能的实质。
考虑补充文档(技术债修改)
0.5 天+1 天+4 天

获取展开的状态，把值传给。如果没有置为 false

todo:

1. 下拉框的确定
2. 写一个 blog
3. 等产品确定统一格式（看看其他公司的格式要求）
4. 调研录音功能
5. es6 的对象功能
   他们聊天，静静的听。

学习 es6 的用法，尽量用新技术去解决问题，努力坚持半年肯定能看到收获。
确定推送的内容和接收的内容。录音（推送）

13 天干活时间
统计（0.5）+按钮优化（1 天）+打点（4 天）

写上需求文档和接口文档
/api/course/list.json?pageSize=10&pageIndex=1&type=2&status=2

courseType
音频：0,
直播：1
点播是 3；
Coming Soon2,

保存起始时间，我就是加一个。

**2019.1.30**

1. 按钮切换（是否点击，是否播放）可以先把播放按钮更改 1
2. 做时间区间
3. 试听检查
4. 加入被打点的位置（当暂停，获取进度条的位置，然后加入一个原点，原点中心要对准播放长度的百分比） 2
   记录打点的位置，打点的位置
   如果打点区间都是后端返回
   起点和端点分开传递。端点改变，第二条的起点也变化。
   设置起始时间一个变量，结束时间是另一个变量。数组+1

第一条是 0-12
最后一天是时间到最长。
**2019.1.31**
双向绑定，当输入结束值，或者输入起始值，进度条会变更(上面加入 border 为 1 的一个元素，循环加，获取 points 值)
先做试听功能，把音频时间定为到那个点。

默认停留在最后一次点击的位置 (需要优化 range 值)

思考：淡定的学习，不管未来发生什么，公司发生什么，勇往直前。

问题：

1. 下面的是要按照这个显示吗？
2. 上面删除和下面删除重复了，选择哪一个？
3. 播放和暂停都能同时切换吗？
4. 先实现进度条上的显示

默认显示在最后一个位置。(打点后进度点默认位置)
点击下面的播放，进度条跳到相应的位置，并且打点按钮不变化
继续打的点必须插在对应的位置。
打点在白色区域看不清

先把秒转化成 date，再把 date 转换成 second
锚点还有动作，在第一条加入数据，顺序打乱。
删除数据把锚点也删除
打点只能插入在中央吧。滚到可视区里？

1. 先做打点，然后滚动到可视区
2. 再做音频段能切换播放
3. 再做文字显示

停止和暂停播放。当点击另一部分，其他的暂停

// 初始化，最开始需要获取 this.audioDuration
// this.range = document.getElementById( "range");
// let currentTime = this.form.points[this.form.points.length-1].point;
// let percentage = Math.ceil(100 \* (currentTime / this.audioDuration));
// this.seekTo(percentage, false);

判断是否为 true，如果为 true，则停止播放，并且把所有都变成 false。
上面的播放时间要显示吗？

拖动放手进入播放状态，然后打点吗？

一直都在倒数第二个插入
:style="thumbPercentage>testV(key)?{left:testV(key) +'%',borderColor:thumbPercentage>testV(key)?'#FFFFFF':'#20A0FF'}:{left:testV(key) +'%',borderColor:'#20A0FF'}"

:style="{left:testV(key) +'%',borderColor:thumbPercentage>testV(key)?'#FFFFFF':'#20A0FF'}"

v-on:click.stop

不可以向上，但是可以向下。
滚动到可视区的思路：标注 id，点击 id，右边的滚动到第一条，获取滚动的距离，直接滚这些距离

如果删除第三个，总数会减少，检查第二个和第四个，不需要循环所有，只循环上下 2 条就行
被删除元素前一个的末点（上一个指引不变）和下一个的始点（下一个指引就是删除的指引）。

需要列出交互点：

- 添加小节标题
- 时间点变成时间区间
- 删除配图打点，时间段需要连续
- 添加配图打点，时间段需要连续，图片要挪动
- 回放确认和停止播放，并且要相互之间互斥和不影响进度条
- 修改打点时间，使得时间段要连续，并不能为空、与其他时间点重复、在左右点区间内
- 点击进度条上锚点，对应配图列表中的点区间滚到到可视区第一条
- 当进度条被拖拽或点击并放开后，自动开始播放，按钮更新为打点
- 上传图片，图片的删除和预览
- 列表中默认展示一条空数据
- 各种边界条件考虑（上传、进度条、时间、图片等的正确性）
- UI 样式更新
- 代码和样式优化
- 自测

3. 按钮置灰的颜色，和不能滚动的颜色

添加列表行颜色的思路：

1. 这行加亮，其他行保持不变，所以需要还原其他（用 class 的方式）
2. 用查找类的方式

需要进一步考虑的问题：

1. 按钮 disabled，为什么点击还有边界
2. 鼠标放上面发生的问题
3. 网速会影响异步动作吗？why？知道机理

<div class="hover-layer" v-on:click.stop v-bind:class="[isShowHoverLayer ? 'show':'hide']" :style="{width:width,height:height}" @mouseout="hideLayer">
<div class="icon-container" @mouseout="hideLayer" >
    <i class="el-icon-search" style="margin-right: 12px;" @click="expandImg()"></i>
    <i class="el-icon-close" style="margin-left: 12px;" @click="deleteImg()"></i>
</div>
</div>
放到它的子元素上，也会触发mouseout，应该不触发子元素。

cookie 保存：设置当天凌晨 12 点前失效。

今天的收获：做任何修改前，需要阐明为什么这样做（先说做的背景，才能说服大家）；不要害怕不被别人理，只要技术上过关，自然受人尊重；想想领导也是跟着一帮人，他也是独立个体，锻炼这种不受他人影响的能力，是很重要的。

cookie 的形式
"\_ga=GA1.2.1746312021.1539572293; ftn_cookie_id=1539572291.16505652; uniqueVisitorId=8fad0cca-5e02-326d-1185-69f5897ddf69; \_\_gads=ID=dc7ee5cb7ab5c23d:T=1542594269:S=ALNI_MYORabGV7pVKFV_Ai51f5XX0LjfOg; \_gid=GA1.2.1340577562.1550541828; Hm_lvt_6f808c64c1308274ef22324b340e40af=1550541828; Hm_lpvt_6f808c64c1308274ef22324b340e40af=1550541828; \_gat=1; FTSTAT_ok_pages=1; FTSTAT_ok_times=9"

首先检验 name 是否存在，如果存在，则获取值。获取 name=的索引，和第一次分号出现的索引
用正则表达式 name=\()\;
总结正则表达式的用法

当 cookie 得到 null 时，vue 模板中 length 肯定为空。
应该判断当 cookie 为空时，读取从后台返回的值。
必须刷新页面，返回需要刷新下页面。

获取哪种图片没有上传，永远获取第一张的提醒。删除图片也需要获取 points。

几个提醒要定义几个变量。如果定义一个变量，不能解耦

@stateChange="uploadState.dot[key] = \$event"

打点播放，会有一秒的显示误差。
获取焦点的值，
59 分 60s
当修改错误，值需要初始化为原来的值，担心改错。输入框限制不能操作 60。
输入错误后跳回到原始值。输入格式必须限制为时分秒。
冒号必须是英文。
获取输入的元素。
当输入错误，继续输入相同的，不会执行函数，因为没有 change。
失去焦点的时候，获取初始值。假如出错，回到原来的值。
当输错过一次，才会触发更新。
当之前有数据，再继续删除，最后面删除到还有一条，还有提交按钮吧。

如果第一次编辑正确，需要更新正确的值

http://localhost:8888/courseCourseList/courseCourseSectionDot?productPid=232273752112467968&type=200&audioUrl=https%3A%2F%2Fcoolcdn.igetcool.com%2Ft%2Faudio%2F20180810%2F1533874578237_48.m4a&audioName=001%E5%B0%8F%E8%8A%82%E8%AF%BE%E7%A8%8B （0 值）

记录上一次进度条的位置。

控制往上删除还是往下删除。

当修改成功，值更新到起始值，再次修改错误跳动起始值。

做过一次修改就会出现问题

当打点再之前时间，修改之后就会出错。

不一一@了，收到需求反述通知的伙伴们，2 点在 3 层亨利卢斯会议室进行。
