对象的`每个属性都有一个描述对象`（Descriptor），用来控制该属性的行为。Object.getOwnPropertyDescriptor方法可以获取该属性的描述对象。

## 有四个操作会忽略enumerable为false的属性
只有for...in会返回继承的属性，其他三个方法都会忽略继承的属性，只处理对象自身的属性

- for...in循环：只遍历`对象自身`的和`继承`的`可枚举`的属性。
- Object.keys()：返回`对象自身`的`所有可枚举`的属性的`键名`。
- JSON.stringify()：只`串行化对象自身的可枚举`的属性。
- Object.assign()： `忽略enumerable为false`的属性，`只拷贝对象自身的可枚举`的属性

对象原型的toString方法，以及数组的length属性，都是不可枚举性，可以避免被for...in遍历到。

```
Object.getOwnPropertyDescriptor(Object.prototype, 'toString').enumerable
// false

Object.getOwnPropertyDescriptor([], 'length').enumerable
// false
```
大多数时候，我们只关心对象自身的属性。所以，`尽量不要用for...in循环，而用Object.keys()代替`。
## ES6 规定，所有 Class 的原型的方法都是不可枚举的
```
Object.getOwnPropertyDescriptor(class {foo() {}}.prototype, 'foo').enumerable
// false
```

## 属性的遍历
ES6 一共有 5 种方法可以遍历对象的属性。

（1）for...in

for...in循环遍历对象自身的和继承的可枚举属性（不含 Symbol 属性）。

（2）Object.keys(obj)

Object.keys返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含 Symbol 属性）的键名。

（3）Object.getOwnPropertyNames(obj)

Object.getOwnPropertyNames返回一个数组，包含对象自身的所有属性（不含 Symbol 属性，但是包括不可枚举属性）的键名。

（4）Object.getOwnPropertySymbols(obj)

Object.getOwnPropertySymbols返回一个数组，包含对象自身的所有 Symbol 属性的键名。

（5）Reflect.ownKeys(obj)

Reflect.ownKeys返回一个数组，包含对象自身的所有键名，不管键名是 Symbol 或字符串，也不管是否可枚举。

以上的 5 种方法遍历对象的键名，都遵守同样的属性遍历的次序规则。

1. 首先遍历所有数值键，按照数值升序排列。
2. 其次遍历所有字符串键，按照加入时间升序排列。
3. 最后遍历所有 Symbol 键，按照加入时间升序排列。

## Object.getOwnPropertyDescriptor()和Object.getOwnPropertyDescriptors()（ES2017 引入）
Object.getOwnPropertyDescriptor方法会`返回某个对象属性的描述对象`（descriptor）。

Object.getOwnPropertyDescriptors方法，`返回指定对象``所有自身属性`（非继承属性）的描述对象。

## Object.getOwnPropertyDescriptors()引入的作用
- `主要是为了解决Object.assign()无法正确拷贝get属性和set属性的问题`。

- 是配合Object.create方法，`将对象属性克隆到一个新对象`。这属于`浅拷贝`。
```
const clone = Object.create(Object.getPrototypeOf(obj),
  Object.getOwnPropertyDescriptors(obj));

// 或者

const shallowClone = (obj) => Object.create(
  Object.getPrototypeOf(obj),
  Object.getOwnPropertyDescriptors(obj)
);
```

- 可以实现一个对象继承另一个对象

```
const obj = Object.create(prot);
obj.foo = 123;

// 或者

const obj = Object.assign(
  Object.create(prot),
  {
    foo: 123,
  }
);

// 有了Object.getOwnPropertyDescriptors，我们就有了另一种写法:
const obj = Object.create(
  prot,
  Object.getOwnPropertyDescriptors({
    foo: 123,
  })
);
```