**2018.10.10**
任务：做一个包含自定义组件、自定义事件、v-model、v-bind、表单的例子

实践一个表单页面，有提交按钮、检查输入情况、添加值到ul下

问题：什么情况下能省略写法

v-bind  主要用于属性绑定

会议记录：
学生提交课的小程序
授权和登录
手机号可以登录
点击拒绝，不会再弹，手动设置打开
没有小程序
只有语文课能看到，提示app中注册再回来看
已购课程账号登录
强制授权，拒绝这一次登录有效，
没买直播课就不让进来。
我的作业：
文本最多2行、默认不考虑没有文字有图片。仅仅一张图呢？先文字再图片，翻译音频吗？
图文并排，怎么编辑，插入图片插入按钮
在app上会显示，跟留言打通？
区分老师端还是学生端？
写作业区域：首尾空格去掉，支持换行。
调研
显示内容需要看到
竞打卡
点一下开始，放手结束。点下去抬起来就开始
提交不上去，不能自动保存。
已提交2人：是哪些人
老师在后台评论，在前台显示。只有老师评论了之后，老师才能再次评论。
精选按赞数排，非精选按时间排。回复和修改只有一个。
一个课好几个题。
发作业。
作业列表还在。把删除变成转发，发布前可以删除。加一栏是否发布
插入图片大小？
精选（二次确认）
不打分就不能提交，但是可以不评论。
根据账户筛选出对应作业。人为发来的班。
周二和周四上课。38人，80%人

**2018.10.12**
cms和h5，
音频包括播放和暂停，
链接是点进去的链接，是否有二维码是微信分享出去打开

操作说明：直接点击+会进入编辑图片url页面

一张图一个视频，也是点击音频会出现激活的页面，然后统一上传。根据顺序显示分享出去的结构。
/Users/hehuiyun/hhy/project/igetcool-cms-new/src/views/home/homeNewEdit.vue
/Users/hehuiyun/hhy/project/igetcool-cms-new/src/views/home/homeActiveList.vue
/Users/hehuiyun/hhy/project/igetcool-cms-new/src/views/home/homeActiveEdit.vue


版本：1.3.7

逻辑：
需要插入不同的音频，链接进入不同的页面，插入音频就跟在后面，看下图片怎么添加的？

碰到的问题：v-model只能是字符串

打开编辑，假如有值就显示，
上传到哪里去？

vue-color-picker
<el-color-picker v-model="color"></el-color-picker>
bootstrap-colorpicker

仅仅这个组件需要设置颜色，
key获取哪个组件，然后根据key中所选中的值放入对应的input中

好像v-model只能穿data中的变量。
2个元素之间发生联系，v-model

**2018.10.16**
todo:
1. 是否显示音频，需要添加item.hasAudio
2. 删除音频，如果不需要音频再隐藏，再重新提交更新跟后台的协作
3. 如果删除图片是把数组重排，但是删除音频是仅仅把数组的某一项置为空
4. 关联列表
5. 添加显示值
6. 明天跟后台确定所做东西，然后协调
7. app中的样式是怎么样的，有原型图吗？播放音频是调用原生的还是h5，检测是不是微信
思路：
背景图只按照原来图片设置就好了

今天完成这些明天跟后台商量接口

音频需要显示列表，这样便于，每个改变的值不一样，列表不一样，所以针对每个列表需要定义一个值。但最好不把值传给后台，用一个对象记录值 ，键是激活的键。

按照我的思路需要接口：
音频链接、需不需要音频、音频时长、音频可直接关联课/书的具体小节（这个小节是怎么样的？是跟生成链接一样吗？）

按照阵雪的思路需要接口：
音频下有对象（包含audioUrl、audioDuration、backgroundImg）,

建议：最好有个顺序输入框、
好处：如果没背景图，可以直接添加音频。
疑问：
整个下拉框选择图片还是音频，还是直接平行放在一行（把高宽放小一点）？
是按照顺序从后台读到的吗，还是通过push顺序?
图还是按照key的顺序显示第几张图，如果是图就是第几张，如果是音频就是第几个音频。统一改成第一部分

根据三级来确定链接？都是course吗？

怎么布局需要出个ui图吧，
上面2个选项，下面依次显示，
把音频放在图片下面

在提交的地方，push，并且请求到第三个被选值对应的url（通过id查询到url），用遍历的方式
获取optionThree和three

**2018.10.17**

主要从以下几方面制定工作目标：

1. 在最短的时间内熟悉公司的基本业务、工作制度和工作流程
2. 认识更多的同事，加强自身的全局意识、增强责任感、服务意识和团队精神
3. 熟悉CMS系统和前端代码，能更好更快地接触更多工作
4. 掌握前端Vue框架和小程序技术，能完成更多的任务
5. 完成H5音频模板等需要完成的任务

http://localhost:8888/api/entrance/select.json?id=12&type=1&productPid=116339132199997440

http://localhost:8888/api/entrance/select.json?id=0&type=1

http://ts1.test.igetget.com:8882/book/audio/list.json?pageSize=50&pageIndex=1&bookPid=173660189612969984&sortOrder=0&sortType=0

http://ts1.test.igetget.com:8882/course/audio/list.json?pageSize=10&pageIndex=1&coursePid=176423533646319616

http://test1-2.igetcool.com/entrance/select.json?id=12&type=1

只有ios没有进度条

统一添加一个包含key的对象包括：是否显示播放按钮（isHidePlay）、是否停止播放（isPlay）、
音频页面思路：
点击音频播放：控制按钮的显示与隐藏，
暂停音频播放
播放时间是监听动作，在audio上写监听动作
canPlay能监听到播放的总时长，timeupdate监听音频变化，ended监听结束
进度条监听change，当拉动到指定位置时，把setDuration；touchstart进度条触摸开始；input是监听什么呢？

怎么控制页面中只有一个音频播放？
仅仅会影响当前的音频播放，判断当前是否有音频播放，当页面中音频在播放，当点击另一个播放时，关闭其他播放。（hasPlayingAudio）发出监听（监听怎么做呢？在同一个页面下是不是不需要发出监听）。

当点击按钮的时候，还需要获取当前对应音频标签，怎么获取呢？
用共同的key来获取，information中第key个音频链接，audio需要有个key属性，

需要找出所有audio标签，然后对此audio获取值

**2018.10.18**
思路
bug:第一次上传音频找不到audioURL
样式，就是加class，每个不一样还是定义id，加上id+key，在

那边思路是创建style。
应该发出通知，其他音频终止，或者

当有元素变化时，更新页面，一切都初始化，但是进度条没有初始化。

因为第一次没有按点击，所以都是默认播放按钮，如果有一个被点击，
当拖动滚动条，对按钮样式没有操作，所以需要变动按钮。

写一个接口控制播放和样式变化

**发现的问题：当样式没写在后面父下面，会被覆盖，注意优先级**

  
CMSbug：
1. 第一张不是图不行
2. 选择框默认有值
3. 为什么有时候添加音频添加不了，难道是因为前面是图片，还是因为第一张不是图片，需要继续测试。
4. 能调整插入顺序

todo:
1. 明天研究怎么上传测试代码
2. 跟安卓链接
3. 测试cms
4. 优化前端代码

//method为移动端原生方法的方法名，param为要传递的参数
if (_IsIOS()) {
    window.webkit.messageHandlers.method.postMessage(param);
} else if (_IsAndroid()) {
    window.control.call('method', param);
    //或者window.control.method(param);
}

https://www.cnblogs.com/ldq2016/p/8383990.html
怎么传一个变量，
需要再原生方法中定义名a，然后js中写a.eventAndroid()
传哪些参数给你（url）

https://www.jianshu.com/p/a3b280ea466a

## 工作信息记录
cd ~
 cat id_rsa.pub 

 ls -a

 api是部署到测试线上的；
 config是本地

 先push到git上，然后在堡垒机上pull代码

提测是在test2


@All  老测试服务器因为安全原因已经被回收，
老测试 1 47.95.39.132  ts1.test.igetget.com
老测试 2 39.107.52.18  ts2.test.igetget.com

现启用新测试服务地址：
新测试1 
test1-1.igetcool.com 后端
test1-2.igetcool.com cms
test1-3.igetcool.com h5
test1-4.igetcool.com 内嵌页

test2-1.igetcool.com
test2-2.igetcool.com
test2-3.igetcool.com
test2-4.igetcool.com


先merge到dev分支，然后npm run build-test1，再push到线上，再在堡垒机上git pull


http://test1-4.igetcool.com/entrance/select.json?id=12&type=1&productPid=116339132199997440  这个得出的返回错误的页面

http://localhost:8888/api/entrance/select.json?id=12&type=1&productPid=116339132199997440  有数据


第一级id为被放置的顺序>
紧急上线产品找雅兰


发现bug，
当直接拖拽进度条到一位置，然后点击播放按钮，播放按钮会从头开始

**2018.10.19**
每个音频需要添加moduleTitle，
前台获取到值，


{
  "moduleTitle": "分类标题|某个课标题|某本书标题|某个分类的标题|",
  "audioType": "200|300|【用于识别音频类型】"
  "modulePid": "章节，或者是书的Pid,如果是免费专区，使用0",
  "defaultSelectIndex":0 
  "list": [
    {
      "audioPid": "167551751531139072",
      "audioTitle": "导读：为什么要听《文化》？"
    }
  ]
}
组合后的一个新对象，
最后面提交的时候，
第二级id相同，
遍历添加3个音频的数据
选择第二节，请求数据，获取第二节的id，保存在一个数组中，
提交的时候push：
var arr = [{audioData:audioData; id:123}]
循环遍历，假如id相同，遍历id相同。
for(let i=0;i< arr.length;i++){
    if()
}
bb[i] = {id}

最终也是数组，var bb = [{id:123,list:[]},{}]
每次添加都遍历那个数组，如果相等就push.
var dataForApp=[{id:123,list:[]},{id:133,list:[]}];
当提交音频的时候，获取id值和audioData,
遍历dataForApp，如果为空，直接push，如果不为空，遍历，如果id值和遍历的id相同，push到那个对象中。

当点击音频时，获取音频的audioPid，当id和相同时，遍历数组，然后传入，并且加上键值。




第一次点击播放按钮，先alert，再更新按钮。第一次之后会按照逻辑正常显示

**2018.10.23**
工作汇报：
1. 更新cms中预览页面
2. 跟后台联调一些数据接口小问题
3. 跟安卓端联调完成
4. 下一步继续跟ios联调，然后可以提测了

**2018.10.24**
1. CMS页面和功能逻辑测试

表单提交: https://www.cnblogs.com/gerry/p/7717737.html

学习vuex，vue-cli配置，在github上新建立一个项目，研究别人的实例，然后重新做一遍，这是3个月计划。
晚上每天一定得花半小时运动和保持好的心情。
把跨域研究一下。

**2018.10.25**
todo:
1. 优化页面样式
2. 测试cms
3. 优化代码

**2018.10.26**
搜索
课程类型：直播课程
课程状态：上架

需求评审：
1. 老答题
https://lanhuapp.com/web/#/item/board/detail?pid=94478bfb-feb7-42a7-a4a0-7ce0c5a7569e&project_id=94478bfb-feb7-42a7-a4a0-7ce0c5a7569e&image_id=ddb86d9f-f505-4479-a6d1-a041c5de876b
未提交作业状态

**2018.10.30**
联调完添加作业、删除作业、作业信息列表、作业发布、单个作业信息获取接口
下一步联调答题情况列表、统计明细相关接口

**2018.10.31**
数据接口讨论：
 
学生直接回复的是第一级。

如果是老师回复，同一组左对齐显示。

点击回复还包含评论窗口
cms中只有老师能回复，学生在小程序回复。
从没评论默认是0个砖石，点评完之后，会更新砖石和精选情况。然后老师在下面点评（是老师就点评，不是老师就是学生）

疑问：
评论中是显示几条完成作业呢？
跟直播还有关系吗？
答题情况列表需要加上homeWorkPId和commentPid

评论数据怎么抓取不到呢？通过代理隐藏起来了吗？

点击小图片，大图片显示出来；点击音频，进行播放；点击视频，进行播放并且放大


只有在提测才在develop上开发，

pull origin，跟本地融合起来，当别人改也是pull会跟我的代码融合。

我的代码不需要被融入

自己用假数据做了一部分答题列表，并试了一下其他接口改了一些样式。
用假数据做了一部分答题列表、统计相关列表展示，并改了一些页面样式。今天继续做答案列表那部分
根据昨天测试用例评审，再检查了下cms和h5页面


```
                <!-- <svg width="80px" height="80px" viewBox="0 0 210 210" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Mask</title><desc>Created with Sketch.</desc><defs><rect id="path-1" x="0" y="0" width="210" height="210"></rect><filter x="-23.0%" y="-23.0%" width="146.0%" height="146.0%" filterUnits="objectBoundingBox" id="filter-3"><feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feColorMatrix values="0 0 0 0 00 0 0 0 00 0 0 0 00 0 0 0.5 0" type="matrix" in="shadowBlurOuter1" result="shadowMatrixOuter1"></feColorMatrix><feMerge><feMergeNode in="shadowMatrixOuter1"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><g id="课程页" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="单节作业-未提交作业状态" transform="translate(-500.000000, -1118.000000)"><g id="作业展示" transform="translate(0.000000, 568.000000)"><g id="用户作业1" transform="translate(0.000000, 120.000000)"><g id="配图" transform="translate(40.000000, 430.000000)"><g id="Bitmap" transform="translate(460.000000, 0.000000)"><g id="分组-2"><mask id="mask-2" fill="white"><use xlink:href="#path-1"></use></mask><use id="Mask" fill="#000000" fill-rule="nonzero" opacity="0.4" xlink:href="#path-1"></use><g id="B13_01" filter="url(#filter-3)" mask="url(#mask-2)" fill="#FFFFFF"><g transform="translate(55.000000, 55.000000)"><circle id="Oval-2" stroke="#FFFFFF" stroke-width="4" fill-opacity="0.08" cx="50" cy="50" r="48"></circle><polygon id="Triangle" stroke="none" points="70 50 38 70 38 30"></polygon></g></g></g></g></g></g></g></g></g></svg> -->
```