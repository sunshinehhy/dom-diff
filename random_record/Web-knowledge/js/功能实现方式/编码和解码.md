## escape() 和 unescape()    decodeURI() 和 decodeURIComponent()
escape() 函数可对字符串进行编码，这样就可以在所有的计算机上读取该字符串。

返回值
已编码的 string 的副本。其中`某些字符被替换成了十六进制的转义序列`。

说明
`该方法不会对 ASCII 字母和数字进行编码`，也不会对下面这些 ASCII 标点符号进行编码：` * @ - _ + . /` 。其他所有的字符都会被转义序列替换。

提示：可以使用 unescape() 对 escape() 编码的字符串进行解码。

注释：ECMAScript v3 反对使用该方法，应用使用 decodeURI() 和 decodeURIComponent() 替代它。

解码：unescape decodeURI  decodeURIComponent
```
> var a = new Buffer('key1=value1&key2=value2').toString('base64');  //编码
undefined
> a
'a2V5MT12YWx1ZTEma2V5Mj12YWx1ZTI='
> new Buffer(a, 'base64').toString()   //解码
'key1=value1&key2=value2'
```

## 将base64url编码的字符串转换为base64编码的字符串。
```
function unescape (str) {
  return (str + '==='.slice((str.length + 3) % 4))
    .replace(/-/g, '+')
    .replace(/_/g, '/')
}
```
## 将base64编码的字符串转换为base64url编码的字符串。
```
function escape (str) {
  return str.replace(/\+/g, '-')
    .replace(/\//g, '_')
    .replace(/=/g, '')
}
```
http://shimingxy.blog.163.com/blog/static/740383420152113532844/

```
BASE64URL是一种在BASE64的基础上编码形成新的加密方式，为了编码能在网络中安全顺畅传输，需要对BASE64进行的编码，特别是互联网中。
BASE64URL编码的流程：
      1、明文使用BASE64进行加密
      2、在BASE64的基础上进行一下的编码：
               1)去除尾部的"="
               2)把"+"替换成"-"
               3)把"/"替换成"_"

BASE64URL解码的流程：
      1、把BASE64URL的编码做如下解码：
               1)把"-"替换成"+"
               2)把"_"替换成"/"
               3)(计算BASE64URL编码长度)%4
                           a)结果为0，不做处理
                           b)结果为2，字符串添加"=="
                           c)结果为3，字符串添加"="
      2、使用BASE64解码密文，得到原始的明文
```
## Base64与URLBase64

 ### 算法基本规则：
- 加密的算法公开
- 加密的密钥不公开
- `Base64算法`公开、密钥也公开的特性不符合基本算法规则，所以很容易被破解，所以`一般不用于企业级的加密`操作。

 ### 应用场景

- 简单加密（加密要求不高的情况下，即一眼看不穿的那种情况下使用）
- 加密（改造字符映射表，即私藏秘钥）
- 电子邮件传输（邮件内容使用Base64加密，实际上主要是处理中文问题的）
- 网络数据传输（与URLBase64相关，下边会讲）
- 密钥存储（密钥是一段二进制数据，密钥在通信双方的传递过程：甲方将密钥采用Base64编码，写入文档，通过安全途径（例如线下等）传给乙方，采用Base64存储密钥是为了增强密钥的易读性）
- 数字证书存储
- OpenSSL操作Base64产生数字证书
- 通常，我们使用Base64最多的情况就是存储密钥。

 ### Base64实现方式
- Base64编码之所以称为Base64，是因为其`使用64个字符来对任意数据进行编码`.
- 这64个字符是各种字符编码（比如ASCII编码）所使用字符的子集。
- 唯一有点特殊的是最后两个字符，因对最后两个字符的选择不同，Base64编码又有很多变种，比如Base64 URL编码：`Base64 URL 是标准Base64编码的一个变种`，分别用 `-、_` 替换标准Base64编码结果中的` + 、 / `，并`删除结果最后的 = `，= 字符并不在Base64编码索引表中，其意义在于结束符号，在Base64解码时遇到 = 时即可知道一个Base64编码字符串结束。

实现方式有三种：

Commons Codec（简称“CC”）
Bouncy Castle（简称“BC”）
JDK（不推荐使用，当做JDK没实现即可）
其中，最推荐使用Commons Codec。


 ### URLBase64实现方式
https://www.npmjs.com/package/base64url

一般来讲这种算法`仅用于使用get方式传递私密数据和以get方式传递二进制数据`。

commons codec（CC，推荐使用，因为不采用尾部补全，所以数据长度较短，减少了网络传输时间，尾部补全是Base64的）
bouncy castle（BC）