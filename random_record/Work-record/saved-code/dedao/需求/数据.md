同比：app：（今年销售数量-去年的销售数量）/去年的销售数量
占比：此渠道销售数量/总数

小天才，150人，80%：渠道名称，销售人数，占比

算总数：数组循环，叠加totalCount
```
function getDiff(s1,s2) {
	var days = s2.getTime() - s1.getTime();
  var time = parseInt(days / (1000 * 60 * 60 * 24));
  return time;
  }
 
var hi1=new Date('2016/04/11');
var hi2=new Date();
var hi=getDiff(hi1,hi2);
alert(hi);
```

var ua= window.navigator.userAgent.toLowerCase();
if( (ua.match(/MicroMessenger/i) == 'micromessenger') && (ua.match(/wxwork/i) == 'wxwork') ){
    alert("企业微信客户端");
}else if( ua.match(/micromessenger/i) == 'micromessenger' ){
    alert("微信客户端");
}

https://blog.csdn.net/qq_21119513/article/details/81383371  （JS-SDK）

  onBridgeReady = () => {
    // window.WeixinJSBridge.call("hideOptionMenu");
    // window.WeixinJSBridge.call("closeWindow");
    // window.wx.hideOptionMenu();
    // window.wx.closeWindow();
    // window.WeixinJSBridge.call("closeWindow");
    // window.wx.hideMenuItems({
    //     menuList: ['menuItem:openWithSafari'] // 要隐藏的菜单项，所有menu项见附录3
    // });
    window.WeixinJSBridge.call("hideToolbar");
    window.wx.getNetworkType({
      success: function (res:any) {
        var networkType = res.networkType; // 返回网络类型2g，3g，4g，wifi
        console.log('networkType:',res);
      }
      ,fail:function (res:any) {
        console.log('res2:',res);
      },
    });
    window.wx.scanQRCode({
      needResult: 1, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，
      scanType: ["qrCode","barCode"], // 可以指定扫二维码还是一维码，默认二者都有
      success: function (res:any) {
        console.log('res:',res);
        // var result = res.resultStr; // 当needResult 为 1 时，扫码返回的结果
      },
      fail:function (res:any) {
        console.log('res2:',res);
      },
    });
    // window.wx.getLocation({
    //   type: 'gcj02', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'
    //   success: function (res:any) {
    //     console.log('res1:',res);
    //   },
    //   fail:function (res:any) {
    //     console.log('res2:',res);
    //   },
    // });
  }

  hideOption = () => {
    if (typeof window.WeixinJSBridge == "undefined") {
      document.addEventListener(
        "WeixinJSBridgeReady",
        this.onBridgeReady,
        false
      );
    } else {
      this.onBridgeReady();
    }
    console.log(window.navigator.userAgent.toLowerCase())
  }


  declare global {
  interface Window {
    WeixinJSBridge: any;
    wx: any;
  }
}